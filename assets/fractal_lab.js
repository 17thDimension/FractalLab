(function(d,f){function m(a){return c.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}function s(a){if(!Ka[a]){var b=c("<"+a+">").appendTo("body"),e=b.css("display");b.remove();if(e==="none"||e==="")e="block";Ka[a]=e}return Ka[a]}function w(a,b){var e={};c.each(Ra.concat.apply([],Ra.slice(0,b)),function(){e[this]=a});return e}function I(a,b,e,g){c.isArray(b)&&b.length?c.each(b,function(h,i){e||jb.test(a)?g(a,i):I(a+"["+(typeof i==="object"||c.isArray(i)?h:"")+"]",i,e,g)}):e||b==null||
typeof b!=="object"?g(a,b):c.isArray(b)||c.isEmptyObject(b)?g(a,""):c.each(b,function(h,i){I(a+"["+h+"]",i,e,g)})}function G(a,b,e,g,h,i){h=h||b.dataTypes[0];i=i||{};i[h]=true;h=a[h];for(var l=0,p=h?h.length:0,r=a===La,D;l<p&&(r||!D);l++){D=h[l](b,e,g);typeof D==="string"&&(i[D]?D=f:(b.dataTypes.unshift(D),D=G(a,b,e,g,D,i)))}(r||!D)&&!i["*"]&&(D=G(a,b,e,g,"*",i));return D}function K(a){return function(b,e){typeof b!=="string"&&(e=b,b="*");if(c.isFunction(e))for(var g=b.toLowerCase().split(Sa),h=0,
i=g.length,l,p;h<i;h++){l=g[h];(p=/^\+/.test(l))&&(l=l.substr(1)||"*");l=a[l]=a[l]||[];l[p?"unshift":"push"](e)}}}function T(a,b,e){var g=b==="width"?a.offsetWidth:a.offsetHeight;if(e==="border")return g;c.each(b==="width"?kb:lb,function(){e||(g-=parseFloat(c.css(a,"padding"+this))||0);e==="margin"?g+=parseFloat(c.css(a,"margin"+this))||0:g-=parseFloat(c.css(a,"border"+this+"Width"))||0});return g}function ea(a,b){b.src?c.ajax({url:b.src,async:false,dataType:"script"}):c.globalEval(b.text||b.textContent||
b.innerHTML||"");b.parentNode&&b.parentNode.removeChild(b)}function ba(a,b){if(b.nodeType===1){var e=b.nodeName.toLowerCase();b.clearAttributes();b.mergeAttributes(a);if(e==="object")b.outerHTML=a.outerHTML;else if(e!=="input"||a.type!=="checkbox"&&a.type!=="radio")if(e==="option")b.selected=a.defaultSelected;else{if(e==="input"||e==="textarea")b.defaultValue=a.defaultValue}else{a.checked&&(b.defaultChecked=b.checked=a.checked);b.value!==a.value&&(b.value=a.value)}b.removeAttribute(c.expando)}}function ka(a,
b){if(b.nodeType===1&&c.hasData(a)){var e=c.expando,g=c.data(a),h=c.data(b,g);if(g=g[e]){var i=g.events;h=h[e]=c.extend({},g);if(i){delete h.handle;h.events={};for(var l in i){e=0;for(g=i[l].length;e<g;e++)c.event.add(b,l,i[l][e],i[l][e].data)}}}}}function qa(a,b,e){if(c.isFunction(b))return c.grep(a,function(h,i){return!!b.call(h,i,h)===e});if(b.nodeType)return c.grep(a,function(h){return h===b===e});if(typeof b==="string"){var g=c.grep(a,function(h){return h.nodeType===1});if(mb.test(b))return c.filter(b,
g,!e);b=c.filter(b,g)}return c.grep(a,function(h){return c.inArray(h,b)>=0===e})}function ra(a,b){return(a&&a!=="*"?a+".":"")+b.replace(R,"`").replace(Y,"&")}function Da(a){var b,e,g,h,i,l,p,r,D,J,M,N=[];h=[];i=c._data(this,sa);typeof i==="function"&&(i=i.events);if(a.liveFired!==this&&i&&i.live&&!a.target.disabled&&(!a.button||a.type!=="click")){a.namespace&&(M=RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));a.liveFired=this;var V=i.live.slice(0);for(p=0;p<V.length;p++){i=
V[p];i.origType.replace(B,"")===a.type?h.push(i.selector):V.splice(p--,1)}h=c(a.target).closest(h,a.currentTarget);r=0;for(D=h.length;r<D;r++){J=h[r];for(p=0;p<V.length;p++){i=V[p];if(J.selector===i.selector&&(!M||M.test(i.namespace))){l=J.elem;g=null;if(i.preType==="mouseenter"||i.preType==="mouseleave"){a.type=i.preType;g=c(a.relatedTarget).closest(i.selector)[0]}(!g||g!==l)&&N.push({elem:l,handleObj:i,level:J.level})}}}r=0;for(D=N.length;r<D;r++){h=N[r];if(e&&h.level>e)break;a.currentTarget=h.elem;
a.data=h.handleObj.data;a.handleObj=h.handleObj;M=h.handleObj.origHandler.apply(h.elem,arguments);if(M===false||a.isPropagationStopped()){e=h.level;M===false&&(b=false);if(a.isImmediatePropagationStopped())break}}return b}}function wa(a,b,e){e[0].type=a;return c.event.handle.apply(b,e)}function ma(){return true}function na(){return false}function Ea(a,b,e){if(e===f&&a.nodeType===1){e=a.getAttribute("data-"+b);if(typeof e==="string"){try{e=e==="true"?true:e==="false"?false:e==="null"?null:c.isNaN(e)?
Fa.test(e)?c.parseJSON(e):e:parseFloat(e)}catch(g){}c.data(a,b,e)}else e=f}return e}var n=d.document,c=function(){function a(){if(!b.isReady){try{n.documentElement.doScroll("left")}catch(o){setTimeout(a,1);return}b.ready()}}var b=function(o,x){return new b.fn.init(o,x,h)},e=d.jQuery,g=d.$,h,i=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,l=/\S/,p=/^\s+/,r=/\s+$/,D=/\d/,J=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,M=/^[\],:{}\s]*$/,N=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,V=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
W=/(?:^|:|,)(?:\s*\[)+/g,ca=/(webkit)[ \/]([\w.]+)/,fa=/(opera)(?:.*version)?[ \/]([\w.]+)/,j=/(msie) ([\w.]+)/,q=/(mozilla)(?:.*? rv:([\w.]+))?/,t=navigator.userAgent,y=false,v,A="then done fail isResolved isRejected promise".split(" "),F,H=Object.prototype.toString,P=Object.prototype.hasOwnProperty,aa=Array.prototype.push,Z=Array.prototype.slice,ga=String.prototype.trim,da=Array.prototype.indexOf,S={};b.fn=b.prototype={constructor:b,init:function(o,x,C){var E,O;if(!o)return this;if(o.nodeType){this.context=
this[0]=o;this.length=1;return this}if(o==="body"&&!x&&n.body){this.context=n;this[0]=n.body;this.selector="body";this.length=1;return this}if(typeof o==="string"){E=i.exec(o);if(!E||!E[1]&&x)return!x||x.jquery?(x||C).find(o):this.constructor(x).find(o);if(E[1]){O=(x=x instanceof b?x[0]:x)?x.ownerDocument||x:n;(C=J.exec(o))?b.isPlainObject(x)?(o=[n.createElement(C[1])],b.fn.attr.call(o,x,true)):o=[O.createElement(C[1])]:(C=b.buildFragment([E[1]],[O]),o=(C.cacheable?b.clone(C.fragment):C.fragment).childNodes);
return b.merge(this,o)}if((x=n.getElementById(E[2]))&&x.parentNode){if(x.id!==E[2])return C.find(o);this.length=1;this[0]=x}this.context=n;this.selector=o;return this}if(b.isFunction(o))return C.ready(o);o.selector!==f&&(this.selector=o.selector,this.context=o.context);return b.makeArray(o,this)},selector:"",jquery:"1.5",length:0,size:function(){return this.length},toArray:function(){return Z.call(this,0)},get:function(o){return o==null?this.toArray():o<0?this[this.length+o]:this[o]},pushStack:function(o,
x,C){var E=this.constructor();b.isArray(o)?aa.apply(E,o):b.merge(E,o);E.prevObject=this;E.context=this.context;x==="find"?E.selector=this.selector+(this.selector?" ":"")+C:x&&(E.selector=this.selector+"."+x+"("+C+")");return E},each:function(o,x){return b.each(this,o,x)},ready:function(o){b.bindReady();v.done(o);return this},eq:function(o){return o===-1?this.slice(o):this.slice(o,+o+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Z.apply(this,
arguments),"slice",Z.call(arguments).join(","))},map:function(o){return this.pushStack(b.map(this,function(x,C){return o.call(x,C,x)}))},end:function(){return this.prevObject||this.constructor(null)},push:aa,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var o,x,C,E,O,Q,U=arguments[0]||{},X=1,la=arguments.length,ja=false;typeof U==="boolean"&&(ja=U,U=arguments[1]||{},X=2);typeof U!=="object"&&!b.isFunction(U)&&(U={});for(la===X&&(U=this,--X);X<la;X++)if((o=
arguments[X])!=null)for(x in o){C=U[x];E=o[x];if(U!==E)ja&&E&&(b.isPlainObject(E)||(O=b.isArray(E)))?(O?(O=false,Q=C&&b.isArray(C)?C:[]):Q=C&&b.isPlainObject(C)?C:{},U[x]=b.extend(ja,Q,E)):E!==f&&(U[x]=E)}return U};b.extend({noConflict:function(o){d.$=g;o&&(d.jQuery=e);return b},isReady:false,readyWait:1,ready:function(o){o===true&&b.readyWait--;if(!b.readyWait||o!==true&&!b.isReady){if(!n.body)return setTimeout(b.ready,1);b.isReady=true;if(!(o!==true&&--b.readyWait>0)){v.resolveWith(n,[b]);b.fn.trigger&&
b(n).trigger("ready").unbind("ready")}}},bindReady:function(){if(!y){y=true;if(n.readyState==="complete")return setTimeout(b.ready,1);if(n.addEventListener){n.addEventListener("DOMContentLoaded",F,false);d.addEventListener("load",b.ready,false)}else if(n.attachEvent){n.attachEvent("onreadystatechange",F);d.attachEvent("onload",b.ready);var o=false;try{o=d.frameElement==null}catch(x){}n.documentElement.doScroll&&o&&a()}}},isFunction:function(o){return b.type(o)==="function"},isArray:Array.isArray||
function(o){return b.type(o)==="array"},isWindow:function(o){return o&&typeof o==="object"&&"setInterval"in o},isNaN:function(o){return o==null||!D.test(o)||isNaN(o)},type:function(o){return o==null?String(o):S[H.call(o)]||"object"},isPlainObject:function(o){if(!o||b.type(o)!=="object"||o.nodeType||b.isWindow(o))return false;if(o.constructor&&!P.call(o,"constructor")&&!P.call(o.constructor.prototype,"isPrototypeOf"))return false;for(var x in o);return x===f||P.call(o,x)},isEmptyObject:function(o){for(var x in o)return false;
return true},error:function(o){throw o;},parseJSON:function(o){if(typeof o!=="string"||!o)return null;o=b.trim(o);if(M.test(o.replace(N,"@").replace(V,"]").replace(W,"")))return d.JSON&&d.JSON.parse?d.JSON.parse(o):(new Function("return "+o))();b.error("Invalid JSON: "+o)},parseXML:function(o,x,C){d.DOMParser?(C=new DOMParser,x=C.parseFromString(o,"text/xml")):(x=new ActiveXObject("Microsoft.XMLDOM"),x.async="false",x.loadXML(o));C=x.documentElement;(!C||!C.nodeName||C.nodeName==="parsererror")&&
b.error("Invalid XML: "+o);return x},noop:function(){},globalEval:function(o){if(o&&l.test(o)){var x=n.getElementsByTagName("head")[0]||n.documentElement,C=n.createElement("script");C.type="text/javascript";b.support.scriptEval()?C.appendChild(n.createTextNode(o)):C.text=o;x.insertBefore(C,x.firstChild);x.removeChild(C)}},nodeName:function(o,x){return o.nodeName&&o.nodeName.toUpperCase()===x.toUpperCase()},each:function(o,x,C){var E,O=0,Q=o.length,U=Q===f||b.isFunction(o);if(C)if(U)for(E in o){if(x.apply(o[E],
C)===false)break}else for(;O<Q;){if(x.apply(o[O++],C)===false)break}else if(U)for(E in o){if(x.call(o[E],E,o[E])===false)break}else for(C=o[0];O<Q&&x.call(C,O,C)!==false;C=o[++O]);return o},trim:ga?function(o){return o==null?"":ga.call(o)}:function(o){return o==null?"":(o+"").replace(p,"").replace(r,"")},makeArray:function(o,x){var C=x||[];if(o!=null){var E=b.type(o);o.length==null||E==="string"||E==="function"||E==="regexp"||b.isWindow(o)?aa.call(C,o):b.merge(C,o)}return C},inArray:function(o,x){if(x.indexOf)return x.indexOf(o);
for(var C=0,E=x.length;C<E;C++)if(x[C]===o)return C;return-1},merge:function(o,x){var C=o.length,E=0;if(typeof x.length==="number")for(var O=x.length;E<O;E++)o[C++]=x[E];else for(;x[E]!==f;)o[C++]=x[E++];o.length=C;return o},grep:function(o,x,C){var E=[],O;C=!!C;for(var Q=0,U=o.length;Q<U;Q++){O=!!x(o[Q],Q);C!==O&&E.push(o[Q])}return E},map:function(o,x,C){for(var E=[],O,Q=0,U=o.length;Q<U;Q++){O=x(o[Q],Q,C);O!=null&&(E[E.length]=O)}return E.concat.apply([],E)},guid:1,proxy:function(o,x,C){arguments.length===
2&&(typeof x==="string"?(C=o,o=C[x],x=f):x&&!b.isFunction(x)&&(C=x,x=f));!x&&o&&(x=function(){return o.apply(C||this,arguments)});o&&(x.guid=o.guid=o.guid||x.guid||b.guid++);return x},access:function(o,x,C,E,O,Q){var U=o.length;if(typeof x==="object"){for(var X in x)b.access(o,X,x[X],E,O,C);return o}if(C!==f){E=!Q&&E&&b.isFunction(C);for(X=0;X<U;X++)O(o[X],x,E?C.call(o[X],X,O(o[X],x)):C,Q);return o}return U?O(o[0],x):f},now:function(){return(new Date).getTime()},_Deferred:function(){var o=[],x,C,
E,O={done:function(){if(!E){var Q=arguments,U,X,la,ja,ha;x&&(ha=x,x=0);U=0;for(X=Q.length;U<X;U++){la=Q[U];ja=b.type(la);ja==="array"?O.done.apply(O,la):ja==="function"&&o.push(la)}ha&&O.resolveWith(ha[0],ha[1])}return this},resolveWith:function(Q,U){if(!E&&!x&&!C){C=1;try{for(;o[0];)o.shift().apply(Q,U)}finally{x=[Q,U];C=0}}return this},resolve:function(){O.resolveWith(b.isFunction(this.promise)?this.promise():this,arguments);return this},isResolved:function(){return C||x},cancel:function(){E=1;
o=[];return this}};return O},Deferred:function(o){var x=b._Deferred(),C=b._Deferred(),E;b.extend(x,{then:function(O,Q){x.done(O).fail(Q);return this},fail:C.done,rejectWith:C.resolveWith,reject:C.resolve,isRejected:C.isResolved,promise:function(O,Q){if(O==null){if(E)return E;E=O={}}for(Q=A.length;Q--;)O[A[Q]]=x[A[Q]];return O}});x.then(C.cancel,x.cancel);delete x.cancel;o&&o.call(x,x);return x},when:function(o){var x=arguments,C=x.length,E=C<=1&&o&&b.isFunction(o.promise)?o:b.Deferred(),O=E.promise(),
Q;C>1?(Q=Array(C),b.each(x,function(U,X){b.when(X).then(function(la){Q[U]=arguments.length>1?Z.call(arguments,0):la;--C||E.resolveWith(O,Q)},E.reject)})):E!==o&&E.resolve(o);return O},uaMatch:function(o){o=o.toLowerCase();o=ca.exec(o)||fa.exec(o)||j.exec(o)||o.indexOf("compatible")<0&&q.exec(o)||[];return{browser:o[1]||"",version:o[2]||"0"}},sub:function(){function o(C,E){return new o.fn.init(C,E)}b.extend(true,o,this);o.superclass=this;o.fn=o.prototype=this();o.fn.constructor=o;o.subclass=this.subclass;
o.fn.init=function C(C,E){E&&E instanceof b&&!(E instanceof o)&&(E=o(E));return b.fn.init.call(this,C,E,x)};o.fn.init.prototype=o.fn;var x=o(n);return o},browser:{}});v=b._Deferred();b.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(o,x){S["[object "+x+"]"]=x.toLowerCase()});t=b.uaMatch(t);t.browser&&(b.browser[t.browser]=true,b.browser.version=t.version);b.browser.webkit&&(b.browser.safari=true);da&&(b.inArray=function(o,x){return da.call(x,o)});l.test(" ")&&(p=
/^[\s\xA0]+/,r=/[\s\xA0]+$/);h=b(n);n.addEventListener?F=function(){n.removeEventListener("DOMContentLoaded",F,false);b.ready()}:n.attachEvent&&(F=function(){n.readyState==="complete"&&(n.detachEvent("onreadystatechange",F),b.ready())});return d.jQuery=d.$=b}();(function(){c.support={};var a=n.createElement("div");a.style.display="none";a.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var b=a.getElementsByTagName("*"),e=a.getElementsByTagName("a")[0],
g=n.createElement("select"),h=g.appendChild(n.createElement("option"));if(b&&b.length&&e){c.support={leadingWhitespace:a.firstChild.nodeType===3,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/red/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55$/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:a.getElementsByTagName("input")[0].value==="on",optSelected:h.selected,deleteExpando:true,optDisabled:false,
checkClone:false,_scriptEval:null,noCloneEvent:true,boxModel:null,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableHiddenOffsets:true};g.disabled=true;c.support.optDisabled=!h.disabled;c.support.scriptEval=function(){if(c.support._scriptEval===null){var l=n.documentElement,p=n.createElement("script"),r="script"+c.now();p.type="text/javascript";try{p.appendChild(n.createTextNode("window."+r+"=1;"))}catch(D){}l.insertBefore(p,l.firstChild);d[r]?(c.support._scriptEval=true,delete d[r]):c.support._scriptEval=
false;l.removeChild(p)}return c.support._scriptEval};try{delete a.test}catch(i){c.support.deleteExpando=false}a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function l(){c.support.noCloneEvent=false;a.detachEvent("onclick",l)}),a.cloneNode(true).fireEvent("onclick"));a=n.createElement("div");a.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";b=n.createDocumentFragment();b.appendChild(a.firstChild);c.support.checkClone=b.cloneNode(true).cloneNode(true).lastChild.checked;c(function(){var l=
n.createElement("div"),p=n.getElementsByTagName("body")[0];if(p){l.style.width=l.style.paddingLeft="1px";p.appendChild(l);c.boxModel=c.support.boxModel=l.offsetWidth===2;"zoom"in l.style&&(l.style.display="inline",l.style.zoom=1,c.support.inlineBlockNeedsLayout=l.offsetWidth===2,l.style.display="",l.innerHTML="<div style='width:4px;'></div>",c.support.shrinkWrapBlocks=l.offsetWidth!==2);l.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";var r=l.getElementsByTagName("td");
c.support.reliableHiddenOffsets=r[0].offsetHeight===0;r[0].style.display="";r[1].style.display="none";c.support.reliableHiddenOffsets=c.support.reliableHiddenOffsets&&r[0].offsetHeight===0;l.innerHTML="";p.removeChild(l).style.display="none"}});b=function(l){var p=n.createElement("div");l="on"+l;if(!p.attachEvent)return true;var r=l in p;r||(p.setAttribute(l,"return;"),r=typeof p[l]==="function");return r};c.support.submitBubbles=b("submit");c.support.changeBubbles=b("change");a=b=e=null}})();var Fa=
/^(?:\{.*\}|\[.*\])$/;c.extend({cache:{},uuid:0,expando:"jQuery"+(c.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(a){a=a.nodeType?c.cache[a[c.expando]]:a[c.expando];return!!a&&!c.isEmptyObject(a)},data:function(a,b,e,g){if(c.acceptData(a)){var h=c.expando,i=typeof b==="string",l=a.nodeType,p=l?c.cache:a,r=l?a[c.expando]:a[c.expando]&&c.expando;if(!((!r||g&&r&&!p[r][h])&&i&&e===f)){r||(l?a[c.expando]=
r=++c.uuid:r=c.expando);p[r]||(p[r]={});typeof b==="object"&&(g?p[r][h]=c.extend(p[r][h],b):p[r]=c.extend(p[r],b));a=p[r];g&&(a[h]||(a[h]={}),a=a[h]);e!==f&&(a[b]=e);if(b==="events"&&!a[b])return a[h]&&a[h].events;return i?a[b]:a}}},removeData:function(a,b,e){if(c.acceptData(a)){var g=c.expando,h=a.nodeType,i=h?c.cache:a,l=h?a[c.expando]:c.expando;if(i[l]){if(b){var p=e?i[l][g]:i[l];if(p){delete p[b];if(!c.isEmptyObject(p))return}}if(e){delete i[l][g];if(!c.isEmptyObject(i[l]))return}b=i[l][g];c.support.deleteExpando||
i!=d?delete i[l]:i[l]=null;b?(i[l]={},i[l][g]=b):h&&(c.support.deleteExpando?delete a[c.expando]:a.removeAttribute?a.removeAttribute(c.expando):a[c.expando]=null)}}},_data:function(a,b,e){return c.data(a,b,e,true)},acceptData:function(a){if(a.nodeName){var b=c.noData[a.nodeName.toLowerCase()];if(b)return b!==true&&a.getAttribute("classid")===b}return true}});c.fn.extend({data:function(a,b){var e=null;if(typeof a==="undefined"){if(this.length){e=c.data(this[0]);if(this[0].nodeType===1)for(var g=this[0].attributes,
h,i=0,l=g.length;i<l;i++){h=g[i].name;h.indexOf("data-")===0&&(h=h.substr(5),Ea(this[0],h,e[h]))}}return e}if(typeof a==="object")return this.each(function(){c.data(this,a)});var p=a.split(".");p[1]=p[1]?"."+p[1]:"";if(b===f){e=this.triggerHandler("getData"+p[1]+"!",[p[0]]);e===f&&this.length&&(e=c.data(this[0],a),e=Ea(this[0],a,e));return e===f&&p[1]?this.data(p[0]):e}return this.each(function(){var r=c(this),D=[p[0],b];r.triggerHandler("setData"+p[1]+"!",D);c.data(this,a,b);r.triggerHandler("changeData"+
p[1]+"!",D)})},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({queue:function(a,b,e){if(a){b=(b||"fx")+"queue";var g=c._data(a,b);if(!e)return g||[];!g||c.isArray(e)?g=c._data(a,b,c.makeArray(e)):g.push(e);return g}},dequeue:function(a,b){b=b||"fx";var e=c.queue(a,b),g=e.shift();g==="inprogress"&&(g=e.shift());g&&(b==="fx"&&e.unshift("inprogress"),g.call(a,function(){c.dequeue(a,b)}));e.length||c.removeData(a,b+"queue",true)}});c.fn.extend({queue:function(a,
b){typeof a!=="string"&&(b=a,a="fx");if(b===f)return c.queue(this[0],a);return this.each(function(){var e=c.queue(this,a,b);a==="fx"&&e[0]!=="inprogress"&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,a)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var e=this;setTimeout(function(){c.dequeue(e,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var xa=/[\n\t\r]/g,ya=/\s+/,oa=/\r/g,za=/^(?:href|src|style)$/,
Ma=/^(?:button|input)$/i,k=/^(?:button|input|object|select|textarea)$/i,u=/^a(?:rea)?$/i,z=/^(?:radio|checkbox)$/i;c.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};c.fn.extend({attr:function(a,b){return c.access(this,a,b,true,c.attr)},removeAttr:function(a){return this.each(function(){c.attr(this,a,"");this.nodeType===1&&this.removeAttribute(a)})},
addClass:function(a){if(c.isFunction(a))return this.each(function(D){var J=c(this);J.addClass(a.call(this,D,J.attr("class")))});if(a&&typeof a==="string")for(var b=(a||"").split(ya),e=0,g=this.length;e<g;e++){var h=this[e];if(h.nodeType===1)if(h.className){for(var i=" "+h.className+" ",l=h.className,p=0,r=b.length;p<r;p++)i.indexOf(" "+b[p]+" ")<0&&(l+=" "+b[p]);h.className=c.trim(l)}else h.className=a}return this},removeClass:function(a){if(c.isFunction(a))return this.each(function(r){var D=c(this);
D.removeClass(a.call(this,r,D.attr("class")))});if(a&&typeof a==="string"||a===f)for(var b=(a||"").split(ya),e=0,g=this.length;e<g;e++){var h=this[e];if(h.nodeType===1&&h.className)if(a){for(var i=(" "+h.className+" ").replace(xa," "),l=0,p=b.length;l<p;l++)i=i.replace(" "+b[l]+" "," ");h.className=c.trim(i)}else h.className=""}return this},toggleClass:function(a,b){var e=typeof a,g=typeof b==="boolean";if(c.isFunction(a))return this.each(function(h){var i=c(this);i.toggleClass(a.call(this,h,i.attr("class"),
b),b)});return this.each(function(){if(e==="string")for(var h,i=0,l=c(this),p=b,r=a.split(ya);h=r[i++];){p=g?p:!l.hasClass(h);l[p?"addClass":"removeClass"](h)}else if(e==="undefined"||e==="boolean"){this.className&&c._data(this,"__className__",this.className);this.className=this.className||a===false?"":c._data(this,"__className__")||""}})},hasClass:function(a){a=" "+a+" ";for(var b=0,e=this.length;b<e;b++)if((" "+this[b].className+" ").replace(xa," ").indexOf(a)>-1)return true;return false},val:function(a){if(!arguments.length){var b=
this[0];if(b){if(c.nodeName(b,"option")){var e=b.attributes.value;return!e||e.specified?b.value:b.text}if(c.nodeName(b,"select")){var g=b.selectedIndex;e=[];var h=b.options;b=b.type==="select-one";if(g<0)return null;var i=b?g:0;for(g=b?g+1:h.length;i<g;i++){var l=h[i];if(l.selected&&(c.support.optDisabled?!l.disabled:l.getAttribute("disabled")===null)&&(!l.parentNode.disabled||!c.nodeName(l.parentNode,"optgroup"))){a=c(l).val();if(b)return a;e.push(a)}}return e}if(z.test(b.type)&&!c.support.checkOn)return b.getAttribute("value")===
null?"on":b.value;return(b.value||"").replace(oa,"")}return f}var p=c.isFunction(a);return this.each(function(r){var D=c(this),J=a;if(this.nodeType===1){p&&(J=a.call(this,r,D.val()));J==null?J="":typeof J==="number"?J+="":c.isArray(J)&&(J=c.map(J,function(N){return N==null?"":N+""}));if(c.isArray(J)&&z.test(this.type))this.checked=c.inArray(D.val(),J)>=0;else if(c.nodeName(this,"select")){var M=c.makeArray(J);c("option",this).each(function(){this.selected=c.inArray(c(this).val(),M)>=0});M.length||
(this.selectedIndex=-1)}else this.value=J}})}});c.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(a,b,e,g){if(!a||a.nodeType===3||a.nodeType===8||a.nodeType===2)return f;if(g&&b in c.attrFn)return c(a)[b](e);g=a.nodeType!==1||!c.isXMLDoc(a);var h=e!==f;b=g&&c.props[b]||b;if(a.nodeType===1){var i=za.test(b);if((b in a||a[b]!==f)&&g&&!i){h&&(b==="type"&&Ma.test(a.nodeName)&&a.parentNode&&c.error("type property can't be changed"),e===
null?a.nodeType===1&&a.removeAttribute(b):a[b]=e);if(c.nodeName(a,"form")&&a.getAttributeNode(b))return a.getAttributeNode(b).nodeValue;if(b==="tabIndex")return(b=a.getAttributeNode("tabIndex"))&&b.specified?b.value:k.test(a.nodeName)||u.test(a.nodeName)&&a.href?0:f;return a[b]}if(!c.support.style&&g&&b==="style"){h&&(a.style.cssText=""+e);return a.style.cssText}h&&a.setAttribute(b,""+e);if(!a.attributes[b]&&a.hasAttribute&&!a.hasAttribute(b))return f;a=!c.support.hrefNormalized&&g&&i?a.getAttribute(b,
2):a.getAttribute(b);return a===null?f:a}h&&(a[b]=e);return a[b]}});var B=/\.(.*)$/,L=/^(?:textarea|input|select)$/i,R=/\./g,Y=/ /g,Na=/[^\w\s.|`]/g,nb=function(a){return a.replace(Na,"\\$&")},sa="events";c.event={add:function(a,b,e,g){if(a.nodeType!==3&&a.nodeType!==8){c.isWindow(a)&&a!==d&&!a.frameElement&&(a=d);if(e===false)e=na;else if(!e)return;var h,i;e.handler&&(h=e,e=h.handler);e.guid||(e.guid=c.guid++);if(i=c._data(a)){var l=i[sa],p=i.handle;typeof l==="function"?(p=l.handle,l=l.events):
l||(a.nodeType||(i[sa]=i=function(){}),i.events=l={});p||(i.handle=p=function(){return typeof c!=="undefined"&&!c.event.triggered?c.event.handle.apply(p.elem,arguments):f});p.elem=a;b=b.split(" ");for(var r,D=0,J;r=b[D++];){i=h?c.extend({},h):{handler:e,data:g};r.indexOf(".")>-1?(J=r.split("."),r=J.shift(),i.namespace=J.slice(0).sort().join(".")):(J=[],i.namespace="");i.type=r;i.guid||(i.guid=e.guid);var M=l[r],N=c.event.special[r]||{};if(!M){M=l[r]=[];if(!N.setup||N.setup.call(a,g,J,p)===false)a.addEventListener?
a.addEventListener(r,p,false):a.attachEvent&&a.attachEvent("on"+r,p)}N.add&&(N.add.call(a,i),i.handler.guid||(i.handler.guid=e.guid));M.push(i);c.event.global[r]=true}a=null}}},global:{},remove:function(a,b,e,g){if(a.nodeType!==3&&a.nodeType!==8){e===false&&(e=na);var h,i,l=0,p,r,D,J,M,N,V=c.hasData(a)&&c._data(a),W=V&&V[sa];if(V&&W){typeof W==="function"&&(V=W,W=W.events);b&&b.type&&(e=b.handler,b=b.type);if(!b||typeof b==="string"&&b.charAt(0)==="."){b=b||"";for(h in W)c.event.remove(a,h+b)}else{for(b=
b.split(" ");h=b[l++];){J=h;p=h.indexOf(".")<0;r=[];p||(r=h.split("."),h=r.shift(),D=RegExp("(^|\\.)"+c.map(r.slice(0).sort(),nb).join("\\.(?:.*\\.)?")+"(\\.|$)"));if(M=W[h])if(e){J=c.event.special[h]||{};for(i=g||0;i<M.length;i++){N=M[i];if(e.guid===N.guid){if(p||D.test(N.namespace)){g==null&&M.splice(i--,1);J.remove&&J.remove.call(a,N)}if(g!=null)break}}if(M.length===0||g!=null&&M.length===1){(!J.teardown||J.teardown.call(a,r)===false)&&c.removeEvent(a,h,V.handle);delete W[h]}}else for(i=0;i<M.length;i++){N=
M[i];if(p||D.test(N.namespace)){c.event.remove(a,J,N.handler,i);M.splice(i--,1)}}}if(c.isEmptyObject(W)){(b=V.handle)&&(b.elem=null);delete V.events;delete V.handle;typeof V==="function"?c.removeData(a,sa,true):c.isEmptyObject(V)&&c.removeData(a,f,true)}}}}},trigger:function(a,b,e,g){var h=a.type||a;if(!g){a=typeof a==="object"?a[c.expando]?a:c.extend(c.Event(h),a):c.Event(h);h.indexOf("!")>=0&&(a.type=h=h.slice(0,-1),a.exclusive=true);e||(a.stopPropagation(),c.event.global[h]&&c.each(c.cache,function(){var M=
this[c.expando];M&&M.events&&M.events[h]&&c.event.trigger(a,b,M.handle.elem)}));if(!e||e.nodeType===3||e.nodeType===8)return f;a.result=f;a.target=e;b=c.makeArray(b);b.unshift(a)}a.currentTarget=e;(g=e.nodeType?c._data(e,"handle"):(c._data(e,sa)||{}).handle)&&g.apply(e,b);g=e.parentNode||e.ownerDocument;try{e&&e.nodeName&&c.noData[e.nodeName.toLowerCase()]||e["on"+h]&&e["on"+h].apply(e,b)===false&&(a.result=false,a.preventDefault())}catch(i){}if(!a.isPropagationStopped()&&g)c.event.trigger(a,b,g,
true);else if(!a.isDefaultPrevented()){var l;g=a.target;var p=h.replace(B,""),r=c.nodeName(g,"a")&&p==="click",D=c.event.special[p]||{};if((!D._default||D._default.call(e,a)===false)&&!r&&!(g&&g.nodeName&&c.noData[g.nodeName.toLowerCase()])){try{g[p]&&(l=g["on"+p],l&&(g["on"+p]=null),c.event.triggered=true,g[p]())}catch(J){}l&&(g["on"+p]=l);c.event.triggered=false}}},handle:function(a){var b,e,g,h;h=[];var i=c.makeArray(arguments);a=i[0]=c.event.fix(a||d.event);a.currentTarget=this;(b=a.type.indexOf(".")<
0&&!a.exclusive)||(e=a.type.split("."),a.type=e.shift(),h=e.slice(0).sort(),g=RegExp("(^|\\.)"+h.join("\\.(?:.*\\.)?")+"(\\.|$)"));a.namespace=a.namespace||h.join(".");h=c._data(this,sa);typeof h==="function"&&(h=h.events);e=(h||{})[a.type];if(h&&e){e=e.slice(0);h=0;for(var l=e.length;h<l;h++){var p=e[h];if(b||g.test(p.namespace)){a.handler=p.handler;a.data=p.data;a.handleObj=p;p=p.handler.apply(this,i);p!==f&&(a.result=p,p===false&&(a.preventDefault(),a.stopPropagation()));if(a.isImmediatePropagationStopped())break}}}return a.result},
props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a){if(a[c.expando])return a;var b=a;a=c.Event(b);for(var e=this.props.length,g;e;){g=this.props[--e];a[g]=b[g]}a.target||(a.target=a.srcElement||n);
a.target.nodeType===3&&(a.target=a.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);if(a.pageX==null&&a.clientX!=null){b=n.documentElement;e=n.body;a.pageX=a.clientX+(b&&b.scrollLeft||e&&e.scrollLeft||0)-(b&&b.clientLeft||e&&e.clientLeft||0);a.pageY=a.clientY+(b&&b.scrollTop||e&&e.scrollTop||0)-(b&&b.clientTop||e&&e.clientTop||0)}a.which==null&&(a.charCode!=null||a.keyCode!=null)&&(a.which=a.charCode!=null?a.charCode:a.keyCode);
!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&a.button!==f&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1E8,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(a){c.event.add(this,ra(a.origType,a.selector),c.extend({},a,{handler:Da,guid:a.handler.guid}))},remove:function(a){c.event.remove(this,ra(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,e){c.isWindow(this)&&(this.onbeforeunload=e)},teardown:function(a,b){this.onbeforeunload===
b&&(this.onbeforeunload=null)}}}};c.removeEvent=n.removeEventListener?function(a,b,e){a.removeEventListener&&a.removeEventListener(b,e,false)}:function(a,b,e){a.detachEvent&&a.detachEvent("on"+b,e)};c.Event=function(a){if(!this.preventDefault)return new c.Event(a);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===false||a.getPreventDefault&&a.getPreventDefault()?ma:na):this.type=a;this.timeStamp=c.now();this[c.expando]=true};c.Event.prototype=
{preventDefault:function(){this.isDefaultPrevented=ma;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=false)},stopPropagation:function(){this.isPropagationStopped=ma;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=true)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ma;this.stopPropagation()},isDefaultPrevented:na,isPropagationStopped:na,isImmediatePropagationStopped:na};var Ta=function(a){var b=a.relatedTarget;
try{for(;b&&b!==this;)b=b.parentNode;b!==this&&(a.type=a.data,c.event.handle.apply(this,arguments))}catch(e){}},Ua=function(a){a.type=a.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]={setup:function(e){c.event.add(this,b,e&&e.selector?Ua:Ta,a)},teardown:function(e){c.event.remove(this,b,e&&e.selector?Ua:Ta)}}});c.support.submitBubbles||(c.event.special.submit={setup:function(){if(this.nodeName&&this.nodeName.toLowerCase()!==
"form"){c.event.add(this,"click.specialSubmit",function(a){var b=a.target,e=b.type;if((e==="submit"||e==="image")&&c(b).closest("form").length){a.liveFired=f;return wa("submit",this,arguments)}});c.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,e=b.type;if((e==="text"||e==="password")&&c(b).closest("form").length&&a.keyCode===13){a.liveFired=f;return wa("submit",this,arguments)}})}else return false},teardown:function(){c.event.remove(this,".specialSubmit")}});if(!c.support.changeBubbles){var Aa,
Va=function(a){var b=a.type,e=a.value;b==="radio"||b==="checkbox"?e=a.checked:b==="select-multiple"?e=a.selectedIndex>-1?c.map(a.options,function(g){return g.selected}).join("-"):"":a.nodeName.toLowerCase()==="select"&&(e=a.selectedIndex);return e},Ga=function(a,b){var e=a.target,g,h;if(L.test(e.nodeName)&&!e.readOnly){g=c._data(e,"_change_data");h=Va(e);(a.type!=="focusout"||e.type!=="radio")&&c._data(e,"_change_data",h);if(!(g===f||h===g))if(g!=null||h){a.type="change";a.liveFired=f;return c.event.trigger(a,
b,e)}}};c.event.special.change={filters:{focusout:Ga,beforedeactivate:Ga,click:function(a){var b=a.target,e=b.type;if(e==="radio"||e==="checkbox"||b.nodeName.toLowerCase()==="select")return Ga.call(this,a)},keydown:function(a){var b=a.target,e=b.type;if(a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(e==="checkbox"||e==="radio")||e==="select-multiple")return Ga.call(this,a)},beforeactivate:function(a){a=a.target;c._data(a,"_change_data",Va(a))}},setup:function(){if(this.type===
"file")return false;for(var a in Aa)c.event.add(this,a+".specialChange",Aa[a]);return L.test(this.nodeName)},teardown:function(){c.event.remove(this,".specialChange");return L.test(this.nodeName)}};Aa=c.event.special.change.filters;Aa.focus=Aa.beforeactivate}n.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function e(g){g=c.event.fix(g);g.type=b;return c.event.handle.call(this,g)}c.event.special[b]={setup:function(){this.addEventListener(a,e,true)},teardown:function(){this.removeEventListener(a,
e,true)}}});c.each(["bind","one"],function(a,b){c.fn[b]=function(e,g,h){if(typeof e==="object"){for(var i in e)this[b](i,g,e[i],h);return this}if(c.isFunction(g)||g===false){h=g;g=f}var l=b==="one"?c.proxy(h,function(r){c(this).unbind(r,l);return h.apply(this,arguments)}):h;if(e==="unload"&&b!=="one")this.one(e,g,h);else{i=0;for(var p=this.length;i<p;i++)c.event.add(this[i],e,l,g)}return this}});c.fn.extend({unbind:function(a,b){if(typeof a!=="object"||a.preventDefault)for(var e=0,g=this.length;e<
g;e++)c.event.remove(this[e],a,b);else for(e in a)this.unbind(e,a[e]);return this},delegate:function(a,b,e,g){return this.live(b,e,g,a)},undelegate:function(a,b,e){return arguments.length===0?this.unbind("live"):this.die(b,null,e,a)},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var e=c.Event(a);e.preventDefault();e.stopPropagation();c.event.trigger(e,b,this[0]);return e.result}},toggle:function(a){for(var b=arguments,e=1;e<
b.length;)c.proxy(a,b[e++]);return this.click(c.proxy(a,function(g){var h=(c._data(this,"lastToggle"+a.guid)||0)%e;c._data(this,"lastToggle"+a.guid,h+1);g.preventDefault();return b[h].apply(this,arguments)||false}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Wa={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};c.each(["live","die"],function(a,b){c.fn[b]=function(e,g,h,i){var l,p=0,r,D,J=i||this.selector;i=i?this:c(this.context);if(typeof e===
"object"&&!e.preventDefault){for(l in e)i[b](l,g,e[l],J);return this}c.isFunction(g)&&(h=g,g=f);for(e=(e||"").split(" ");(l=e[p++])!=null;){r=B.exec(l);D="";r&&(D=r[0],l=l.replace(B,""));if(l==="hover")e.push("mouseenter"+D,"mouseleave"+D);else{r=l;l==="focus"||l==="blur"?(e.push(Wa[l]+D),l+=D):l=(Wa[l]||l)+D;if(b==="live"){D=0;for(var M=i.length;D<M;D++)c.event.add(i[D],"live."+ra(l,J),{data:g,selector:J,handler:h,origType:l,origHandler:h,preType:r})}else i.unbind("live."+ra(l,J),h)}}return this}});
c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){c.fn[b]=function(e,g){g==null&&(g=e,e=null);return arguments.length>0?this.bind(b,e,g):this.trigger(b)};c.attrFn&&(c.attrFn[b]=true)});(function(){function a(j,q,t,y,v,A){v=0;for(var F=y.length;v<F;v++){var H=y[v];if(H){var P=false;for(H=H[j];H;){if(H.sizcache===t){P=y[H.sizset];
break}if(H.nodeType===1){A||(H.sizcache=t,H.sizset=v);if(typeof q!=="string"){if(H===q){P=true;break}}else if(p.filter(q,[H]).length>0){P=H;break}}H=H[j]}y[v]=P}}}function b(j,q,t,y,v,A){v=0;for(var F=y.length;v<F;v++){var H=y[v];if(H){var P=false;for(H=H[j];H;){if(H.sizcache===t){P=y[H.sizset];break}H.nodeType===1&&!A&&(H.sizcache=t,H.sizset=v);if(H.nodeName.toLowerCase()===q){P=H;break}H=H[j]}y[v]=P}}}var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
g=0,h=Object.prototype.toString,i=false,l=true;[0,0].sort(function(){l=false;return 0});var p=function(j,q,t,y){t=t||[];var v=q=q||n;if(q.nodeType!==1&&q.nodeType!==9)return[];if(!j||typeof j!=="string")return t;var A,F,H,P,aa,Z,ga=true,da=p.isXML(q),S=[],o=j;do{e.exec("");if(A=e.exec(o)){o=A[3];S.push(A[1]);if(A[2]){P=A[3];break}}}while(A);if(S.length>1&&D.exec(j))if(S.length===2&&r.relative[S[0]])F=fa(S[0]+S[1],q);else for(F=r.relative[S[0]]?[q]:p(S.shift(),q);S.length;){j=S.shift();r.relative[j]&&
(j+=S.shift());F=fa(j,F)}else{!y&&S.length>1&&q.nodeType===9&&!da&&r.match.ID.test(S[0])&&!r.match.ID.test(S[S.length-1])&&(aa=p.find(S.shift(),q,da),q=aa.expr?p.filter(aa.expr,aa.set)[0]:aa.set[0]);if(q){aa=y?{expr:S.pop(),set:N(y)}:p.find(S.pop(),S.length===1&&(S[0]==="~"||S[0]==="+")&&q.parentNode?q.parentNode:q,da);F=aa.expr?p.filter(aa.expr,aa.set):aa.set;for(S.length>0?H=N(F):ga=false;S.length;){A=Z=S.pop();r.relative[Z]?A=S.pop():Z="";A==null&&(A=q);r.relative[Z](H,A,da)}}else H=[]}H||(H=F);
H||p.error(Z||j);if(h.call(H)==="[object Array]")if(ga)if(q&&q.nodeType===1)for(j=0;H[j]!=null;j++)H[j]&&(H[j]===true||H[j].nodeType===1&&p.contains(q,H[j]))&&t.push(F[j]);else for(j=0;H[j]!=null;j++)H[j]&&H[j].nodeType===1&&t.push(F[j]);else t.push.apply(t,H);else N(H,t);P&&(p(P,v,t,y),p.uniqueSort(t));return t};p.uniqueSort=function(j){if(W){i=l;j.sort(W);if(i)for(var q=1;q<j.length;q++)j[q]===j[q-1]&&j.splice(q--,1)}return j};p.matches=function(j,q){return p(j,null,null,q)};p.matchesSelector=function(j,
q){return p(q,null,null,[j]).length>0};p.find=function(j,q,t){var y;if(!j)return[];for(var v=0,A=r.order.length;v<A;v++){var F,H=r.order[v];if(F=r.leftMatch[H].exec(j)){var P=F[1];F.splice(1,1);if(P.substr(P.length-1)!=="\\"){F[1]=(F[1]||"").replace(/\\/g,"");y=r.find[H](F,q,t);if(y!=null){j=j.replace(r.match[H],"");break}}}}y||(y=typeof q.getElementsByTagName!=="undefined"?q.getElementsByTagName("*"):[]);return{set:y,expr:j}};p.filter=function(j,q,t,y){for(var v,A,F=j,H=[],P=q,aa=q&&q[0]&&p.isXML(q[0]);j&&
q.length;){for(var Z in r.filter)if((v=r.leftMatch[Z].exec(j))!=null&&v[2]){var ga,da,S=r.filter[Z];da=v[1];A=false;v.splice(1,1);if(da.substr(da.length-1)!=="\\"){P===H&&(H=[]);if(r.preFilter[Z])if(v=r.preFilter[Z](v,P,t,H,y,aa)){if(v===true)continue}else A=ga=true;if(v)for(var o=0;(da=P[o])!=null;o++)if(da){ga=S(da,v,o,P);var x=y^!!ga;t&&ga!=null?x?A=true:P[o]=false:x&&(H.push(da),A=true)}if(ga!==f){t||(P=H);j=j.replace(r.match[Z],"");if(!A)return[];break}}}if(j===F)if(A==null)p.error(j);else break;
F=j}return P};p.error=function(j){throw"Syntax error, unrecognized expression: "+j;};var r=p.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(j){return j.getAttribute("href")}},relative:{"+":function(j,q){var t=typeof q==="string",y=t&&!/\W/.test(q);t=t&&!y;y&&(q=q.toLowerCase());y=0;for(var v=j.length,A;y<v;y++)if(A=j[y]){for(;(A=A.previousSibling)&&A.nodeType!==1;);j[y]=t||A&&A.nodeName.toLowerCase()===
q?A||false:A===q}t&&p.filter(q,j,true)},">":function(j,q){var t,y=typeof q==="string",v=0,A=j.length;if(y&&!/\W/.test(q))for(q=q.toLowerCase();v<A;v++){if(t=j[v]){t=t.parentNode;j[v]=t.nodeName.toLowerCase()===q?t:false}}else{for(;v<A;v++)(t=j[v])&&(j[v]=y?t.parentNode:t.parentNode===q);y&&p.filter(q,j,true)}},"":function(j,q,t){var y,v=g++,A=a;typeof q==="string"&&!/\W/.test(q)&&(q=q.toLowerCase(),y=q,A=b);A("parentNode",q,v,j,y,t)},"~":function(j,q,t){var y,v=g++,A=a;typeof q==="string"&&!/\W/.test(q)&&
(q=q.toLowerCase(),y=q,A=b);A("previousSibling",q,v,j,y,t)}},find:{ID:function(j,q,t){if(typeof q.getElementById!=="undefined"&&!t)return(j=q.getElementById(j[1]))&&j.parentNode?[j]:[]},NAME:function(j,q){if(typeof q.getElementsByName!=="undefined"){for(var t=[],y=q.getElementsByName(j[1]),v=0,A=y.length;v<A;v++)y[v].getAttribute("name")===j[1]&&t.push(y[v]);return t.length===0?null:t}},TAG:function(j,q){if(typeof q.getElementsByTagName!=="undefined")return q.getElementsByTagName(j[1])}},preFilter:{CLASS:function(j,
q,t,y,v,A){j=" "+j[1].replace(/\\/g,"")+" ";if(A)return j;A=0;for(var F;(F=q[A])!=null;A++)F&&(v^(F.className&&(" "+F.className+" ").replace(/[\t\n\r]/g," ").indexOf(j)>=0)?t||y.push(F):t&&(q[A]=false));return false},ID:function(j){return j[1].replace(/\\/g,"")},TAG:function(j){return j[1].toLowerCase()},CHILD:function(j){if(j[1]==="nth"){j[2]||p.error(j[0]);j[2]=j[2].replace(/^\+|\s*/g,"");var q=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(j[2]==="even"&&"2n"||j[2]==="odd"&&"2n+1"||!/\D/.test(j[2])&&"0n+"+
j[2]||j[2]);j[2]=q[1]+(q[2]||1)-0;j[3]=q[3]-0}else j[2]&&p.error(j[0]);j[0]=g++;return j},ATTR:function(j,q,t,y,v,A){q=j[1]=j[1].replace(/\\/g,"");!A&&r.attrMap[q]&&(j[1]=r.attrMap[q]);j[4]=(j[4]||j[5]||"").replace(/\\/g,"");j[2]==="~="&&(j[4]=" "+j[4]+" ");return j},PSEUDO:function(j,q,t,y,v){if(j[1]==="not")if((e.exec(j[3])||"").length>1||/^\w/.test(j[3]))j[3]=p(j[3],null,null,q);else{j=p.filter(j[3],q,t,true^v);t||y.push.apply(y,j);return false}else if(r.match.POS.test(j[0])||r.match.CHILD.test(j[0]))return true;
return j},POS:function(j){j.unshift(true);return j}},filters:{enabled:function(j){return j.disabled===false&&j.type!=="hidden"},disabled:function(j){return j.disabled===true},checked:function(j){return j.checked===true},selected:function(j){return j.selected===true},parent:function(j){return!!j.firstChild},empty:function(j){return!j.firstChild},has:function(j,q,t){return!!p(t[3],j).length},header:function(j){return/h\d/i.test(j.nodeName)},text:function(j){return"text"===j.type},radio:function(j){return"radio"===
j.type},checkbox:function(j){return"checkbox"===j.type},file:function(j){return"file"===j.type},password:function(j){return"password"===j.type},submit:function(j){return"submit"===j.type},image:function(j){return"image"===j.type},reset:function(j){return"reset"===j.type},button:function(j){return"button"===j.type||j.nodeName.toLowerCase()==="button"},input:function(j){return/input|select|textarea|button/i.test(j.nodeName)}},setFilters:{first:function(j,q){return q===0},last:function(j,q,t,y){return q===
y.length-1},even:function(j,q){return q%2===0},odd:function(j,q){return q%2===1},lt:function(j,q,t){return q<t[3]-0},gt:function(j,q,t){return q>t[3]-0},nth:function(j,q,t){return t[3]-0===q},eq:function(j,q,t){return t[3]-0===q}},filter:{PSEUDO:function(j,q,t,y){var v=q[1],A=r.filters[v];if(A)return A(j,t,q,y);if(v==="contains")return(j.textContent||j.innerText||p.getText([j])||"").indexOf(q[3])>=0;if(v==="not"){q=q[3];t=0;for(y=q.length;t<y;t++)if(q[t]===j)return false;return true}p.error(v)},CHILD:function(j,
q){var t=q[1],y=j;switch(t){case "only":case "first":for(;y=y.previousSibling;)if(y.nodeType===1)return false;if(t==="first")return true;y=j;case "last":for(;y=y.nextSibling;)if(y.nodeType===1)return false;return true;case "nth":t=q[2];var v=q[3];if(t===1&&v===0)return true;var A=q[0],F=j.parentNode;if(F&&(F.sizcache!==A||!j.nodeIndex)){var H=0;for(y=F.firstChild;y;y=y.nextSibling)y.nodeType===1&&(y.nodeIndex=++H);F.sizcache=A}y=j.nodeIndex-v;return t===0?y===0:y%t===0&&y/t>=0}},ID:function(j,q){return j.nodeType===
1&&j.getAttribute("id")===q},TAG:function(j,q){return q==="*"&&j.nodeType===1||j.nodeName.toLowerCase()===q},CLASS:function(j,q){return(" "+(j.className||j.getAttribute("class"))+" ").indexOf(q)>-1},ATTR:function(j,q){var t=q[1];t=r.attrHandle[t]?r.attrHandle[t](j):j[t]!=null?j[t]:j.getAttribute(t);var y=t+"",v=q[2],A=q[4];return t==null?v==="!=":v==="="?y===A:v==="*="?y.indexOf(A)>=0:v==="~="?(" "+y+" ").indexOf(A)>=0:A?v==="!="?y!==A:v==="^="?y.indexOf(A)===0:v==="$="?y.substr(y.length-A.length)===
A:v==="|="?y===A||y.substr(0,A.length+1)===A+"-":false:y&&t!==false},POS:function(j,q,t,y){var v=r.setFilters[q[2]];if(v)return v(j,t,q,y)}}},D=r.match.POS,J=function(j,q){return"\\"+(q-0+1)},M;for(M in r.match){r.match[M]=RegExp(r.match[M].source+/(?![^\[]*\])(?![^\(]*\))/.source);r.leftMatch[M]=RegExp(/(^(?:.|\r|\n)*?)/.source+r.match[M].source.replace(/\\(\d+)/g,J))}var N=function(j,q){j=Array.prototype.slice.call(j,0);if(q){q.push.apply(q,j);return q}return j};try{Array.prototype.slice.call(n.documentElement.childNodes,
0)}catch(V){N=function(j,q){var t=0,y=q||[];if(h.call(j)==="[object Array]")Array.prototype.push.apply(y,j);else if(typeof j.length==="number")for(var v=j.length;t<v;t++)y.push(j[t]);else for(;j[t];t++)y.push(j[t]);return y}}var W,ca;n.documentElement.compareDocumentPosition?W=function(j,q){if(j===q){i=true;return 0}if(!j.compareDocumentPosition||!q.compareDocumentPosition)return j.compareDocumentPosition?-1:1;return j.compareDocumentPosition(q)&4?-1:1}:(W=function(j,q){var t,y,v=[],A=[];t=j.parentNode;
y=q.parentNode;var F=t;if(j===q){i=true;return 0}if(t===y)return ca(j,q);if(!t)return-1;if(!y)return 1;for(;F;){v.unshift(F);F=F.parentNode}for(F=y;F;){A.unshift(F);F=F.parentNode}t=v.length;y=A.length;for(F=0;F<t&&F<y;F++)if(v[F]!==A[F])return ca(v[F],A[F]);return F===t?ca(j,A[F],-1):ca(v[F],q,1)},ca=function(j,q,t){if(j===q)return t;for(j=j.nextSibling;j;){if(j===q)return-1;j=j.nextSibling}return 1});p.getText=function(j){for(var q="",t,y=0;j[y];y++){t=j[y];t.nodeType===3||t.nodeType===4?q+=t.nodeValue:
t.nodeType!==8&&(q+=p.getText(t.childNodes))}return q};(function(){var j=n.createElement("div"),q="script"+(new Date).getTime(),t=n.documentElement;j.innerHTML="<a name='"+q+"'/>";t.insertBefore(j,t.firstChild);n.getElementById(q)&&(r.find.ID=function(y,v,A){if(typeof v.getElementById!=="undefined"&&!A)return(v=v.getElementById(y[1]))?v.id===y[1]||typeof v.getAttributeNode!=="undefined"&&v.getAttributeNode("id").nodeValue===y[1]?[v]:f:[]},r.filter.ID=function(y,v){var A=typeof y.getAttributeNode!==
"undefined"&&y.getAttributeNode("id");return y.nodeType===1&&A&&A.nodeValue===v});t.removeChild(j);t=j=null})();(function(){var j=n.createElement("div");j.appendChild(n.createComment(""));j.getElementsByTagName("*").length>0&&(r.find.TAG=function(q,t){var y=t.getElementsByTagName(q[1]);if(q[1]==="*"){for(var v=[],A=0;y[A];A++)y[A].nodeType===1&&v.push(y[A]);y=v}return y});j.innerHTML="<a href='#'></a>";j.firstChild&&typeof j.firstChild.getAttribute!=="undefined"&&j.firstChild.getAttribute("href")!==
"#"&&(r.attrHandle.href=function(q){return q.getAttribute("href",2)});j=null})();n.querySelectorAll&&function(){var j=p,q=n.createElement("div");q.innerHTML="<p class='TEST'></p>";if(!q.querySelectorAll||q.querySelectorAll(".TEST").length!==0){p=function(y,v,A,F){v=v||n;if(!F&&!p.isXML(v)){var H=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(y);if(H&&(v.nodeType===1||v.nodeType===9)){if(H[1])return N(v.getElementsByTagName(y),A);if(H[2]&&r.find.CLASS&&v.getElementsByClassName)return N(v.getElementsByClassName(H[2]),
A)}if(v.nodeType===9){if(y==="body"&&v.body)return N([v.body],A);if(H&&H[3]){var P=v.getElementById(H[3]);if(!P||!P.parentNode)return N([],A);if(P.id===H[3])return N([P],A)}try{return N(v.querySelectorAll(y),A)}catch(aa){}}else if(v.nodeType===1&&v.nodeName.toLowerCase()!=="object"){P=(H=v.getAttribute("id"))||"__sizzle__";var Z=v.parentNode,ga=/^\s*[+~]/.test(y);H?P=P.replace(/'/g,"\\$&"):v.setAttribute("id",P);ga&&Z&&(v=v.parentNode);try{if(!ga||Z)return N(v.querySelectorAll("[id='"+P+"'] "+y),
A)}catch(da){}finally{H||v.removeAttribute("id")}}}return j(y,v,A,F)};for(var t in j)p[t]=j[t];q=null}}();(function(){var j=n.documentElement,q=j.matchesSelector||j.mozMatchesSelector||j.webkitMatchesSelector||j.msMatchesSelector,t=false;try{q.call(n.documentElement,"[test!='']:sizzle")}catch(y){t=true}q&&(p.matchesSelector=function(v,A){A=A.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!p.isXML(v))try{if(t||!r.match.PSEUDO.test(A)&&!/!=/.test(A))return q.call(v,A)}catch(F){}return p(A,null,null,[v]).length>
0})})();(function(){var j=n.createElement("div");j.innerHTML="<div class='test e'></div><div class='test'></div>";if(j.getElementsByClassName&&j.getElementsByClassName("e").length!==0){j.lastChild.className="e";if(j.getElementsByClassName("e").length!==1){r.order.splice(1,0,"CLASS");r.find.CLASS=function(q,t,y){if(typeof t.getElementsByClassName!=="undefined"&&!y)return t.getElementsByClassName(q[1])};j=null}}})();n.documentElement.contains?p.contains=function(j,q){return j!==q&&(j.contains?j.contains(q):
true)}:n.documentElement.compareDocumentPosition?p.contains=function(j,q){return!!(j.compareDocumentPosition(q)&16)}:p.contains=function(){return false};p.isXML=function(j){return(j=(j?j.ownerDocument||j:0).documentElement)?j.nodeName!=="HTML":false};var fa=function(j,q){for(var t,y=[],v="",A=q.nodeType?[q]:q;t=r.match.PSEUDO.exec(j);){v+=t[0];j=j.replace(r.match.PSEUDO,"")}j=r.relative[j]?j+"*":j;t=0;for(var F=A.length;t<F;t++)p(j,A[t],y);return p.filter(v,y)};c.find=p;c.expr=p.selectors;c.expr[":"]=
c.expr.filters;c.unique=p.uniqueSort;c.text=p.getText;c.isXMLDoc=p.isXML;c.contains=p.contains})();var ob=/Until$/,pb=/^(?:parents|prevUntil|prevAll)/,qb=/,/,mb=/^.[^:#\[\.,]*$/,rb=Array.prototype.slice,sb=c.expr.match.POS,tb={children:true,contents:true,next:true,prev:true};c.fn.extend({find:function(a){for(var b=this.pushStack("","find",a),e=0,g=0,h=this.length;g<h;g++){e=b.length;c.find(a,this[g],b);if(g>0)for(var i=e;i<b.length;i++)for(var l=0;l<e;l++)if(b[l]===b[i]){b.splice(i--,1);break}}return b},
has:function(a){var b=c(a);return this.filter(function(){for(var e=0,g=b.length;e<g;e++)if(c.contains(this,b[e]))return true})},not:function(a){return this.pushStack(qa(this,a,false),"not",a)},filter:function(a){return this.pushStack(qa(this,a,true),"filter",a)},is:function(a){return!!a&&c.filter(a,this).length>0},closest:function(a,b){var e=[],g,h,i=this[0];if(c.isArray(a)){var l,p={},r=1;if(i&&a.length){g=0;for(h=a.length;g<h;g++){l=a[g];p[l]||(p[l]=c.expr.match.POS.test(l)?c(l,b||this.context):
l)}for(;i&&i.ownerDocument&&i!==b;){for(l in p){g=p[l];(g.jquery?g.index(i)>-1:c(i).is(g))&&e.push({selector:l,elem:i,level:r})}i=i.parentNode;r++}}return e}l=sb.test(a)?c(a,b||this.context):null;g=0;for(h=this.length;g<h;g++)for(i=this[g];i;){if(l?l.index(i)>-1:c.find.matchesSelector(i,a)){e.push(i);break}i=i.parentNode;if(!i||!i.ownerDocument||i===b)break}e=e.length>1?c.unique(e):e;return this.pushStack(e,"closest",a)},index:function(a){if(!a||typeof a==="string")return c.inArray(this[0],a?c(a):
this.parent().children());return c.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var e=typeof a==="string"?c(a,b):c.makeArray(a),g=c.merge(this.get(),e);return this.pushStack(!e[0]||!e[0].parentNode||e[0].parentNode.nodeType===11||!g[0]||!g[0].parentNode||g[0].parentNode.nodeType===11?g:c.unique(g))},andSelf:function(){return this.add(this.prevObject)}});c.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,
b,e){return c.dir(a,"parentNode",e)},next:function(a){return c.nth(a,2,"nextSibling")},prev:function(a){return c.nth(a,2,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,b,e){return c.dir(a,"nextSibling",e)},prevUntil:function(a,b,e){return c.dir(a,"previousSibling",e)},siblings:function(a){return c.sibling(a.parentNode.firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,
"iframe")?a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes)}},function(a,b){c.fn[a]=function(e,g){var h=c.map(this,b,e),i=rb.call(arguments);ob.test(a)||(g=e);g&&typeof g==="string"&&(h=c.filter(g,h));h=this.length>1&&!tb[a]?c.unique(h):h;(this.length>1||qb.test(g))&&pb.test(a)&&(h=h.reverse());return this.pushStack(h,a,i.join(","))}});c.extend({filter:function(a,b,e){e&&(a=":not("+a+")");return b.length===1?c.find.matchesSelector(b[0],a)?[b[0]]:[]:c.find.matches(a,b)},dir:function(a,
b,e){var g=[];for(a=a[b];a&&a.nodeType!==9&&(e===f||a.nodeType!==1||!c(a).is(e));){a.nodeType===1&&g.push(a);a=a[b]}return g},nth:function(a,b,e){b=b||1;for(var g=0;a;a=a[e])if(a.nodeType===1&&++g===b)break;return a},sibling:function(a,b){for(var e=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&e.push(a);return e}});var ub=/ jQuery\d+="(?:\d+|null)"/g,Oa=/^\s+/,Xa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ya=/<([\w:]+)/,vb=/<tbody/i,wb=/<|&#?\w+;/,Za=/<(?:script|object|embed|option|style)/i,
$a=/checked\s*(?:[^=]|=\s*.checked.)/i,ia={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};ia.optgroup=ia.option;ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead;ia.th=ia.td;c.support.htmlSerialize||(ia._default=[1,"div<div>",
"</div>"]);c.fn.extend({text:function(a){if(c.isFunction(a))return this.each(function(b){var e=c(this);e.text(a.call(this,b,e.text()))});if(typeof a!=="object"&&a!==f)return this.empty().append((this[0]&&this[0].ownerDocument||n).createTextNode(a));return c.text(this)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(e){c(this).wrapAll(a.call(this,e))});if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var e=
this;e.firstChild&&e.firstChild.nodeType===1;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapInner(a.call(this,b))});return this.each(function(){var b=c(this),e=b.contents();e.length?e.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){c(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,
true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this)});if(arguments.length){var a=c(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,
false,function(b){this.parentNode.insertBefore(b,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,c(arguments[0]).toArray());return a}},remove:function(a,b){for(var e=0,g;(g=this[e])!=null;e++)if(!a||c.filter(a,[g]).length){!b&&g.nodeType===1&&(c.cleanData(g.getElementsByTagName("*")),c.cleanData([g]));g.parentNode&&g.parentNode.removeChild(g)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);
return this},clone:function(a,b){a=a==null?true:a;b=b==null?a:b;return this.map(function(){return c.clone(this,a,b)})},html:function(a){if(a===f)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(ub,""):null;if(typeof a!=="string"||Za.test(a)||!c.support.leadingWhitespace&&Oa.test(a)||ia[(Ya.exec(a)||["",""])[1].toLowerCase()])c.isFunction(a)?this.each(function(h){var i=c(this);i.html(a.call(this,h,i.html()))}):this.empty().append(a);else{a=a.replace(Xa,"<$1></$2>");try{for(var b=0,e=
this.length;b<e;b++)this[b].nodeType===1&&(c.cleanData(this[b].getElementsByTagName("*")),this[b].innerHTML=a)}catch(g){this.empty().append(a)}}return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(c.isFunction(a))return this.each(function(b){var e=c(this),g=e.html();e.replaceWith(a.call(this,b,g))});typeof a!=="string"&&(a=c(a).detach());return this.each(function(){var b=this.nextSibling,e=this.parentNode;c(this).remove();b?c(b).before(a):c(e).append(a)})}return this.pushStack(c(c.isFunction(a)?
a():a),"replaceWith",a)},detach:function(a){return this.remove(a,true)},domManip:function(a,b,e){var g,h,i,l=a[0],p=[];if(!c.support.checkClone&&arguments.length===3&&typeof l==="string"&&$a.test(l))return this.each(function(){c(this).domManip(a,b,e,true)});if(c.isFunction(l))return this.each(function(J){var M=c(this);a[0]=l.call(this,J,b?M.html():f);M.domManip(a,b,e)});if(this[0]){i=l&&l.parentNode;c.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?g={fragment:i}:g=c.buildFragment(a,
this,p);i=g.fragment;i.childNodes.length===1?h=i=i.firstChild:h=i.firstChild;if(h){b=b&&c.nodeName(h,"tr");h=0;for(var r=this.length,D=r-1;h<r;h++)e.call(b?c.nodeName(this[h],"table")?this[h].getElementsByTagName("tbody")[0]||this[h].appendChild(this[h].ownerDocument.createElement("tbody")):this[h]:this[h],g.cacheable||r>1&&h<D?c.clone(i,true,true):i)}p.length&&c.each(p,ea)}return this}});c.buildFragment=function(a,b,e){var g,h,i;b=b&&b[0]?b[0].ownerDocument||b[0]:n;a.length===1&&typeof a[0]==="string"&&
a[0].length<512&&b===n&&a[0].charAt(0)==="<"&&!Za.test(a[0])&&(c.support.checkClone||!$a.test(a[0]))&&(h=true,i=c.fragments[a[0]],i&&i!==1&&(g=i));g||(g=b.createDocumentFragment(),c.clean(a,b,g,e));h&&(c.fragments[a[0]]=i?g:1);return{fragment:g,cacheable:h}};c.fragments={};c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=function(e){var g=[];e=c(e);var h=this.length===1&&this[0].parentNode;if(h&&h.nodeType===11&&
h.childNodes.length===1&&e.length===1){e[b](this[0]);return this}h=0;for(var i=e.length;h<i;h++){var l=(h>0?this.clone(true):this).get();c(e[h])[b](l);g=g.concat(l)}return this.pushStack(g,a,e.selector)}});c.extend({clone:function(a,b,e){var g=a.cloneNode(true),h,i,l;if(!c.support.noCloneEvent&&(a.nodeType===1||a.nodeType===11)&&!c.isXMLDoc(a)){h=a.getElementsByTagName("*");i=g.getElementsByTagName("*");for(l=0;h[l];++l)ba(h[l],i[l]);ba(a,g)}if(b){ka(a,g);if(e&&"getElementsByTagName"in a){h=a.getElementsByTagName("*");
i=g.getElementsByTagName("*");if(h.length)for(l=0;h[l];++l)ka(h[l],i[l])}}return g},clean:function(a,b,e,g){b=b||n;typeof b.createElement==="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||n);for(var h=[],i=0,l;(l=a[i])!=null;i++){typeof l==="number"&&(l+="");if(l){if(typeof l!=="string"||wb.test(l)){if(typeof l==="string"){l=l.replace(Xa,"<$1></$2>");var p=(Ya.exec(l)||["",""])[1].toLowerCase(),r=ia[p]||ia._default,D=r[0],J=b.createElement("div");for(J.innerHTML=r[1]+l+r[2];D--;)J=J.lastChild;
if(!c.support.tbody){D=vb.test(l);p=p==="table"&&!D?J.firstChild&&J.firstChild.childNodes:r[1]==="<table>"&&!D?J.childNodes:[];for(r=p.length-1;r>=0;--r)c.nodeName(p[r],"tbody")&&!p[r].childNodes.length&&p[r].parentNode.removeChild(p[r])}!c.support.leadingWhitespace&&Oa.test(l)&&J.insertBefore(b.createTextNode(Oa.exec(l)[0]),J.firstChild);l=J.childNodes}}else l=b.createTextNode(l);l.nodeType?h.push(l):h=c.merge(h,l)}}if(e)for(i=0;h[i];i++)!g||!c.nodeName(h[i],"script")||h[i].type&&h[i].type.toLowerCase()!==
"text/javascript"?(h[i].nodeType===1&&h.splice.apply(h,[i+1,0].concat(c.makeArray(h[i].getElementsByTagName("script")))),e.appendChild(h[i])):g.push(h[i].parentNode?h[i].parentNode.removeChild(h[i]):h[i]);return h},cleanData:function(a){for(var b,e,g=c.cache,h=c.expando,i=c.event.special,l=c.support.deleteExpando,p=0,r;(r=a[p])!=null;p++)if(!(r.nodeName&&c.noData[r.nodeName.toLowerCase()]))if(e=r[c.expando]){if((b=g[e]&&g[e][h])&&b.events){for(var D in b.events)i[D]?c.event.remove(r,D):c.removeEvent(r,
D,b.handle);b.handle&&(b.handle.elem=null)}l?delete r[c.expando]:r.removeAttribute&&r.removeAttribute(c.expando);delete g[e]}}});var ab=/alpha\([^)]*\)/i,xb=/opacity=([^)]*)/,yb=/-([a-z])/ig,zb=/([A-Z])/g,bb=/^-?\d+(?:px)?$/i,Ab=/^-?\d/,Bb={position:"absolute",visibility:"hidden",display:"block"},kb=["Left","Right"],lb=["Top","Bottom"],Ba,cb,Ha,Cb=function(a,b){return b.toUpperCase()};c.fn.css=function(a,b){if(arguments.length===2&&b===f)return this;return c.access(this,a,b,true,function(e,g,h){return h!==
f?c.style(e,g,h):c.css(e,g)})};c.extend({cssHooks:{opacity:{get:function(a,b){if(b){var e=Ba(a,"opacity","opacity");return e===""?"1":e}return a.style.opacity}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true},cssProps:{"float":c.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,e,g){if(a&&a.nodeType!==3&&a.nodeType!==8&&a.style){var h,i=c.camelCase(b),l=a.style,p=c.cssHooks[i];b=c.cssProps[i]||i;if(e===f){if(p&&"get"in p&&(h=p.get(a,false,g))!==f)return h;
return l[b]}if(!(typeof e==="number"&&isNaN(e)||e==null)){typeof e==="number"&&!c.cssNumber[i]&&(e+="px");if(!p||!("set"in p)||(e=p.set(a,e))!==f)try{l[b]=e}catch(r){}}}},css:function(a,b,e){var g,h=c.camelCase(b),i=c.cssHooks[h];b=c.cssProps[h]||h;if(i&&"get"in i&&(g=i.get(a,true,e))!==f)return g;if(Ba)return Ba(a,b,h)},swap:function(a,b,e){var g={},h;for(h in b){g[h]=a.style[h];a.style[h]=b[h]}e.call(a);for(h in b)a.style[h]=g[h]},camelCase:function(a){return a.replace(yb,Cb)}});c.curCSS=c.css;
c.each(["height","width"],function(a,b){c.cssHooks[b]={get:function(e,g,h){var i;if(g){e.offsetWidth!==0?i=T(e,b,h):c.swap(e,Bb,function(){i=T(e,b,h)});if(i<=0){i=Ba(e,b,b);i==="0px"&&Ha&&(i=Ha(e,b,b));if(i!=null)return i===""||i==="auto"?"0px":i}if(i<0||i==null){i=e.style[b];return i===""||i==="auto"?"0px":i}return typeof i==="string"?i:i+"px"}},set:function(e,g){if(!bb.test(g))return g;g=parseFloat(g);if(g>=0)return g+"px"}}});c.support.opacity||(c.cssHooks.opacity={get:function(a,b){return xb.test((b&&
a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var e=a.style;e.zoom=1;var g=c.isNaN(b)?"":"alpha(opacity="+b*100+")",h=e.filter||"";e.filter=ab.test(h)?h.replace(ab,g):e.filter+" "+g}});n.defaultView&&n.defaultView.getComputedStyle&&(cb=function(a,b,e){var g;e=e.replace(zb,"-$1").toLowerCase();if(!(b=a.ownerDocument.defaultView))return f;if(b=b.getComputedStyle(a,null)){g=b.getPropertyValue(e);g===""&&!c.contains(a.ownerDocument.documentElement,
a)&&(g=c.style(a,e))}return g});n.documentElement.currentStyle&&(Ha=function(a,b){var e,g=a.currentStyle&&a.currentStyle[b],h=a.runtimeStyle&&a.runtimeStyle[b],i=a.style;!bb.test(g)&&Ab.test(g)&&(e=i.left,h&&(a.runtimeStyle.left=a.currentStyle.left),i.left=b==="fontSize"?"1em":g||0,g=i.pixelLeft+"px",i.left=e,h&&(a.runtimeStyle.left=h));return g===""?"auto":g});Ba=cb||Ha;c.expr&&c.expr.filters&&(c.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!c.support.reliableHiddenOffsets&&
(a.style.display||c.css(a,"display"))==="none"},c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)});var Db=/%20/g,jb=/\[\]$/,db=/\r?\n/g,Eb=/#.*$/,Fb=/^(.*?):\s*(.*?)\r?$/mg,Gb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Hb=/^(?:GET|HEAD)$/,Ib=/^\/\//,eb=/\?/,Jb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Kb=/^(?:select|textarea)/i,Sa=/\s+/,Lb=/([?&])_=[^&]*/,Mb=/^(\w+:)\/\/([^\/?#:]+)(?::(\d+))?/,fb=c.fn.load,La={},
gb={};c.fn.extend({load:function(a,b,e){if(typeof a!=="string"&&fb)return fb.apply(this,arguments);if(!this.length)return this;var g=a.indexOf(" ");if(g>=0){var h=a.slice(g,a.length);a=a.slice(0,g)}g="GET";b&&(c.isFunction(b)?(e=b,b=null):typeof b==="object"&&(b=c.param(b,c.ajaxSettings.traditional),g="POST"));var i=this;c.ajax({url:a,type:g,dataType:"html",data:b,complete:function(l,p,r){r=l.responseText;l.isResolved()&&(l.done(function(D){r=D}),i.html(h?c("<div>").append(r.replace(Jb,"")).find(h):
r));e&&i.each(e,[r,p,l])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Kb.test(this.nodeName)||Gb.test(this.type))}).map(function(a,b){var e=c(this).val();return e==null?null:c.isArray(e)?c.map(e,function(g){return{name:b.name,value:g.replace(db,"\r\n")}}):{name:b.name,value:e.replace(db,"\r\n")}}).get()}});
c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){c.fn[b]=function(e){return this.bind(b,e)}});c.each(["get","post"],function(a,b){c[b]=function(e,g,h,i){c.isFunction(g)&&(i=i||h,h=g,g=null);return c.ajax({type:b,url:e,data:g,success:h,dataType:i})}});c.extend({getScript:function(a,b){return c.get(a,null,b,"script")},getJSON:function(a,b,e){return c.get(a,b,e,"json")},ajaxSetup:function(a){c.extend(true,c.ajaxSettings,a);a.context&&(c.ajaxSettings.context=
a.context)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":d.String,"text html":true,"text json":c.parseJSON,"text xml":c.parseXML}},ajaxPrefilter:K(La),ajaxTransport:K(gb),
ajax:function(a,b){function e(v,A,F,H){if(j!==2){j=2;V&&clearTimeout(V);N=f;J=H||"";t.readyState=v?4:0;var P,aa,Z;if(F){H=g;var ga=t,da=H.contents,S=H.dataTypes,o=H.responseFields,x,C,E,O;for(C in o)C in F&&(ga[o[C]]=F[C]);for(;S[0]==="*";){S.shift();x===f&&(x=ga.getResponseHeader("content-type"))}if(x)for(C in da)if(da[C]&&da[C].test(x)){S.unshift(C);break}if(S[0]in F)E=S[0];else{for(C in F){if(!S[0]||H.converters[C+" "+S[0]]){E=C;break}O||(O=C)}E=E||O}if(E){E!==S[0]&&S.unshift(E);F=F[E]}else F=
void 0}else F=f;if(v>=200&&v<300||v===304){if(g.ifModified){if(x=t.getResponseHeader("Last-Modified"))c.lastModified[g.url]=x;if(x=t.getResponseHeader("Etag"))c.etag[g.url]=x}if(v===304){A="notmodified";P=true}else try{x=g;x.dataFilter&&(F=x.dataFilter(F,x.dataType));var Q=x.dataTypes,U=x.converters,X,la=Q.length,ja,ha=Q[0],ua,Pa,pa,ta,va;for(X=1;X<la;X++){ua=ha;ha=Q[X];if(ha==="*")ha=ua;else if(ua!=="*"&&ua!==ha){Pa=ua+" "+ha;pa=U[Pa]||U["* "+ha];if(!pa){va=f;for(ta in U){ja=ta.split(" ");if(ja[0]===
ua||ja[0]==="*")if(va=U[ja[1]+" "+ha]){ta=U[ta];ta===true?pa=va:va===true&&(pa=ta);break}}}!pa&&!va&&c.error("No conversion from "+Pa.replace(" "," to "));pa!==true&&(F=pa?pa(F):va(ta(F)))}}aa=F;A="success";P=true}catch(Nb){A="parsererror";Z=Nb}}else{Z=A;v&&(A="error",v<0&&(v=0))}t.status=v;t.statusText=A;P?l.resolveWith(h,[aa,A,t]):l.rejectWith(h,[t,A,Z]);t.statusCode(r);r=f;g.global&&i.trigger("ajax"+(P?"Success":"Error"),[t,g,P?aa:Z]);p.resolveWith(h,[t,A]);g.global&&(i.trigger("ajaxComplete",
[t,g]),--c.active||c.event.trigger("ajaxStop"))}}typeof b!=="object"&&(b=a,a=f);b=b||{};var g=c.extend(true,{},c.ajaxSettings,b),h=(g.context=("context"in b?b:c.ajaxSettings).context)||g,i=h===g?c.event:c(h),l=c.Deferred(),p=c._Deferred(),r=g.statusCode||{},D={},J,M,N,V,W=n.location,ca=W.protocol||"http:",fa,j=0,q,t={readyState:0,setRequestHeader:function(v,A){j===0&&(D[v.toLowerCase()]=A);return this},getAllResponseHeaders:function(){return j===2?J:null},getResponseHeader:function(v){var A;if(j===
2){if(!M)for(M={};A=Fb.exec(J);)M[A[1].toLowerCase()]=A[2];A=M[v.toLowerCase()]}return A||null},abort:function(v){v=v||"abort";N&&N.abort(v);e(0,v);return this}};l.promise(t);t.success=t.done;t.error=t.fail;t.complete=p.done;t.statusCode=function(v){if(v){var A;if(j<2)for(A in v)r[A]=[r[A],v[A]];else{A=v[t.status];t.then(A,A)}}return this};g.url=(""+(a||g.url)).replace(Eb,"").replace(Ib,ca+"//");g.dataTypes=c.trim(g.dataType||"*").toLowerCase().split(Sa);g.crossDomain||(fa=Mb.exec(g.url.toLowerCase()),
g.crossDomain=fa&&(fa[1]!=ca||fa[2]!=W.hostname||(fa[3]||(fa[1]==="http:"?80:443))!=(W.port||(ca==="http:"?80:443))));g.data&&g.processData&&typeof g.data!=="string"&&(g.data=c.param(g.data,g.traditional));G(La,g,b,t);g.type=g.type.toUpperCase();g.hasContent=!Hb.test(g.type);g.global&&c.active++===0&&c.event.trigger("ajaxStart");if(!g.hasContent){g.data&&(g.url+=(eb.test(g.url)?"&":"?")+g.data);if(g.cache===false){W=c.now();ca=g.url.replace(Lb,"$1_="+W);g.url=ca+(ca===g.url?(eb.test(g.url)?"&":"?")+
"_="+W:"")}}if(g.data&&g.hasContent&&g.contentType!==false||b.contentType)D["content-type"]=g.contentType;g.ifModified&&(c.lastModified[g.url]&&(D["if-modified-since"]=c.lastModified[g.url]),c.etag[g.url]&&(D["if-none-match"]=c.etag[g.url]));D.accept=g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+(g.dataTypes[0]!=="*"?", */*; q=0.01":""):g.accepts["*"];for(q in g.headers)D[q.toLowerCase()]=g.headers[q];if(!g.beforeSend||g.beforeSend.call(h,t,g)!==false&&j!==2){for(q in{success:1,
error:1,complete:1})t[q](g[q]);if(N=G(gb,g,b,t)){j=t.readyState=1;g.global&&i.trigger("ajaxSend",[t,g]);g.async&&g.timeout>0&&(V=setTimeout(function(){t.abort("timeout")},g.timeout));try{N.send(D,e)}catch(y){status<2?e(-1,y):c.error(y)}}else e(-1,"No Transport")}else{e(0,"abort");t=false}return t},param:function(a,b){var e=[],g=function(i,l){l=c.isFunction(l)?l():l;e[e.length]=encodeURIComponent(i)+"="+encodeURIComponent(l)};b===f&&(b=c.ajaxSettings.traditional);if(c.isArray(a)||a.jquery)c.each(a,
function(){g(this.name,this.value)});else for(var h in a)I(h,a[h],b,g);return e.join("&").replace(Db,"+")}});c.extend({active:0,lastModified:{},etag:{}});var Ob=c.now(),Ia=/(\=)\?(&|$)|()\?\?()/i;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return c.expando+"_"+Ob++}});c.ajaxPrefilter("json jsonp",function(a,b,e){e=typeof a.data==="string";if(a.dataTypes[0]==="jsonp"||b.jsonpCallback||b.jsonp!=null||a.jsonp!==false&&(Ia.test(a.url)||e&&Ia.test(a.data))){var g,h=a.jsonpCallback=c.isFunction(a.jsonpCallback)?
a.jsonpCallback():a.jsonpCallback,i=d[h];b=a.url;var l=a.data,p="$1"+h+"$2";a.jsonp!==false&&(b=b.replace(Ia,p),a.url===b&&(e&&(l=l.replace(Ia,p)),a.data===l&&(b+=(/\?/.test(b)?"&":"?")+a.jsonp+"="+h)));a.url=b;a.data=l;d[h]=function(r){g=[r]};a.complete=[function(){if(d[h]=i)g&&c.isFunction(i)&&d[h](g[0]);else try{delete d[h]}catch(r){}},a.complete];a.converters["script json"]=function(){g||c.error(h+" was not called");return g[0]};a.dataTypes[0]="json";return"script"}});c.ajaxSetup({accepts:{script:"text/javascript, application/javascript"},
contents:{script:/javascript/},converters:{"text script":function(a){c.globalEval(a);return a}}});c.ajaxPrefilter("script",function(a){a.cache===f&&(a.cache=false);a.crossDomain&&(a.type="GET",a.global=false)});c.ajaxTransport("script",function(a){if(a.crossDomain){var b,e=n.getElementsByTagName("head")[0]||n.documentElement;return{send:function(g,h){b=n.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(i,l){if(!b.readyState||
/loaded|complete/.test(b.readyState)){b.onload=b.onreadystatechange=null;e&&b.parentNode&&e.removeChild(b);b=f;l||h(200,"success")}};e.insertBefore(b,e.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var Pb=c.now(),Qa={},hb,Ca;c.ajaxSettings.xhr=d.ActiveXObject?function(){if(d.location.protocol!=="file:")try{return new d.XMLHttpRequest}catch(a){}try{return new d.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}:function(){return new d.XMLHttpRequest};try{Ca=c.ajaxSettings.xhr()}catch(Tb){}c.support.ajax=
!!Ca;c.support.cors=Ca&&"withCredentials"in Ca;Ca=f;c.support.ajax&&c.ajaxTransport(function(a){if(!a.crossDomain||c.support.cors){var b;return{send:function(e,g){hb||(hb=1,c(d).bind("unload",function(){c.each(Qa,function(p,r){r.onreadystatechange&&r.onreadystatechange(1)})}));var h=a.xhr(),i;a.username?h.open(a.type,a.url,a.async,a.username,a.password):h.open(a.type,a.url,a.async);(!a.crossDomain||a.hasContent)&&!e["x-requested-with"]&&(e["x-requested-with"]="XMLHttpRequest");try{c.each(e,function(p,
r){h.setRequestHeader(p,r)})}catch(l){}h.send(a.hasContent&&a.data||null);b=function(p,r){if(b&&(r||h.readyState===4)){b=0;i&&(h.onreadystatechange=c.noop,delete Qa[i]);if(r)h.readyState!==4&&h.abort();else{var D=h.status,J,M=h.getAllResponseHeaders(),N={},V=h.responseXML;V&&V.documentElement&&(N.xml=V);N.text=h.responseText;try{J=h.statusText}catch(W){J=""}D=D===0?!a.crossDomain||J?M?304:0:302:D==1223?204:D;g(D,J,N,M)}}};a.async&&h.readyState!==4?(i=Pb++,Qa[i]=h,h.onreadystatechange=b):b()},abort:function(){b&&
b(0,1)}}}});var Ka={},Qb=/^(?:toggle|show|hide)$/,Rb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Ja,Ra=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];c.fn.extend({show:function(a,b,e){if(a||a===0)return this.animate(w("show",3),a,b,e);e=0;for(var g=this.length;e<g;e++){a=this[e];b=a.style.display;!c._data(a,"olddisplay")&&b==="none"&&(b=a.style.display="");b===""&&c.css(a,"display")==="none"&&c._data(a,"olddisplay",
s(a.nodeName))}for(e=0;e<g;e++){a=this[e];b=a.style.display;if(b===""||b==="none")a.style.display=c._data(a,"olddisplay")||""}return this},hide:function(a,b,e){if(a||a===0)return this.animate(w("hide",3),a,b,e);a=0;for(b=this.length;a<b;a++){e=c.css(this[a],"display");e!=="none"&&!c._data(this[a],"olddisplay")&&c._data(this[a],"olddisplay",e)}for(a=0;a<b;a++)this[a].style.display="none";return this},_toggle:c.fn.toggle,toggle:function(a,b,e){var g=typeof a==="boolean";c.isFunction(a)&&c.isFunction(b)?
this._toggle.apply(this,arguments):a==null||g?this.each(function(){var h=g?a:c(this).is(":hidden");c(this)[h?"show":"hide"]()}):this.animate(w("toggle",3),a,b,e);return this},fadeTo:function(a,b,e,g){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,e,g)},animate:function(a,b,e,g){var h=c.speed(b,e,g);if(c.isEmptyObject(a))return this.each(h.complete);return this[h.queue===false?"each":"queue"](function(){var i=c.extend({},h),l,p=this.nodeType===1,r=p&&c(this).is(":hidden"),
D=this;for(l in a){var J=c.camelCase(l);l!==J&&(a[J]=a[l],delete a[l],l=J);if(a[l]==="hide"&&r||a[l]==="show"&&!r)return i.complete.call(this);if(p&&(l==="height"||l==="width")){i.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(c.css(this,"display")==="inline"&&c.css(this,"float")==="none")if(c.support.inlineBlockNeedsLayout)s(this.nodeName)==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1);else this.style.display="inline-block"}c.isArray(a[l])&&
((i.specialEasing=i.specialEasing||{})[l]=a[l][1],a[l]=a[l][0])}i.overflow!=null&&(this.style.overflow="hidden");i.curAnim=c.extend({},a);c.each(a,function(M,N){var V=new c.fx(D,i,M);if(Qb.test(N))V[N==="toggle"?r?"show":"hide":N](a);else{var W=Rb.exec(N),ca=V.cur()||0;if(W){var fa=parseFloat(W[2]),j=W[3]||"px";j!=="px"&&(c.style(D,M,(fa||1)+j),ca*=(fa||1)/V.cur(),c.style(D,M,ca+j));W[1]&&(fa=(W[1]==="-="?-1:1)*fa+ca);V.custom(ca,fa,j)}else V.custom(ca,N,"")}});return true})},stop:function(a,b){var e=
c.timers;a&&this.queue([]);this.each(function(){for(var g=e.length-1;g>=0;g--)e[g].elem===this&&(b&&e[g](true),e.splice(g,1))});b||this.dequeue();return this}});c.each({slideDown:w("show",1),slideUp:w("hide",1),slideToggle:w("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){c.fn[a]=function(e,g,h){return this.animate(b,e,g,h)}});c.extend({speed:function(a,b,e){var g=a&&typeof a==="object"?c.extend({},a):{complete:e||!e&&b||c.isFunction(a)&&a,
duration:a,easing:e&&b||b&&!c.isFunction(b)&&b};g.duration=c.fx.off?0:typeof g.duration==="number"?g.duration:g.duration in c.fx.speeds?c.fx.speeds[g.duration]:c.fx.speeds._default;g.old=g.complete;g.complete=function(){g.queue!==false&&c(this).dequeue();c.isFunction(g.old)&&g.old.call(this)};return g},easing:{linear:function(a,b,e,g){return e+g*a},swing:function(a,b,e,g){return(-Math.cos(a*Math.PI)/2+0.5)*g+e}},timers:[],fx:function(a,b,e){this.options=b;this.elem=a;this.prop=e;b.orig||(b.orig={})}});
c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];return parseFloat(c.css(this.elem,this.prop))||0},custom:function(a,b,e){function g(l){return h.step(l)}var h=this,i=c.fx;this.startTime=c.now();this.start=a;this.end=b;this.unit=e||this.unit||"px";this.now=this.start;this.pos=
this.state=0;g.elem=this.elem;g()&&c.timers.push(g)&&!Ja&&(Ja=setInterval(i.tick,i.interval))},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var b=c.now(),e=true;if(a||b>=this.options.duration+this.startTime){this.now=
this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var g in this.options.curAnim)this.options.curAnim[g]!==true&&(e=false);if(e){if(this.options.overflow!=null&&!c.support.shrinkWrapBlocks){var h=this.elem,i=this.options;c.each(["","X","Y"],function(p,r){h.style["overflow"+r]=i.overflow[p]})}this.options.hide&&c(this.elem).hide();if(this.options.hide||this.options.show)for(var l in this.options.curAnim)c.style(this.elem,l,this.options.orig[l]);this.options.complete.call(this.elem)}return false}a=
b-this.startTime;this.state=a/this.options.duration;b=this.options.easing||(c.easing.swing?"swing":"linear");this.pos=c.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||b](this.state,a,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update();return true}};c.extend(c.fx,{tick:function(){for(var a=c.timers,b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||c.fx.stop()},interval:13,stop:function(){clearInterval(Ja);Ja=null},speeds:{slow:600,
fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}});c.expr&&c.expr.filters&&(c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return a===b.elem}).length});var Sb=/^t(?:able|d|h)$/i,ib=/^(?:body|html)$/i;"getBoundingClientRect"in n.documentElement?c.fn.offset=function(a){var b=
this[0],e;if(a)return this.each(function(l){c.offset.setOffset(this,a,l)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);try{e=b.getBoundingClientRect()}catch(g){}var h=b.ownerDocument,i=h.documentElement;if(!e||!c.contains(i,b))return e?{top:e.top,left:e.left}:{top:0,left:0};b=h.body;h=m(h);return{top:e.top+(h.pageYOffset||c.support.boxModel&&i.scrollTop||b.scrollTop)-(i.clientTop||b.clientTop||0),left:e.left+(h.pageXOffset||c.support.boxModel&&i.scrollLeft||
b.scrollLeft)-(i.clientLeft||b.clientLeft||0)}}:c.fn.offset=function(a){var b=this[0];if(a)return this.each(function(D){c.offset.setOffset(this,a,D)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);c.offset.initialize();var e,g=b.offsetParent,h=b.ownerDocument,i=h.documentElement,l=h.body;e=(h=h.defaultView)?h.getComputedStyle(b,null):b.currentStyle;for(var p=b.offsetTop,r=b.offsetLeft;(b=b.parentNode)&&b!==l&&b!==i;){if(c.offset.supportsFixedPosition&&
e.position==="fixed")break;e=h?h.getComputedStyle(b,null):b.currentStyle;p-=b.scrollTop;r-=b.scrollLeft;b===g&&(p+=b.offsetTop,r+=b.offsetLeft,c.offset.doesNotAddBorder&&(!c.offset.doesAddBorderForTableAndCells||!Sb.test(b.nodeName))&&(p+=parseFloat(e.borderTopWidth)||0,r+=parseFloat(e.borderLeftWidth)||0),g=b.offsetParent);c.offset.subtractsBorderForOverflowNotVisible&&e.overflow!=="visible"&&(p+=parseFloat(e.borderTopWidth)||0,r+=parseFloat(e.borderLeftWidth)||0)}if(e.position==="relative"||e.position===
"static"){p+=l.offsetTop;r+=l.offsetLeft}c.offset.supportsFixedPosition&&e.position==="fixed"&&(p+=Math.max(i.scrollTop,l.scrollTop),r+=Math.max(i.scrollLeft,l.scrollLeft));return{top:p,left:r}};c.offset={initialize:function(){var a=n.body,b=n.createElement("div"),e,g,h,i=parseFloat(c.css(a,"marginTop"))||0;c.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
a.insertBefore(b,a.firstChild);e=b.firstChild;g=e.firstChild;h=e.nextSibling.firstChild.firstChild;this.doesNotAddBorder=g.offsetTop!==5;this.doesAddBorderForTableAndCells=h.offsetTop===5;g.style.position="fixed";g.style.top="20px";this.supportsFixedPosition=g.offsetTop===20||g.offsetTop===15;g.style.position=g.style.top="";e.style.overflow="hidden";e.style.position="relative";this.subtractsBorderForOverflowNotVisible=g.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==i;a.removeChild(b);
c.offset.initialize=c.noop},bodyOffset:function(a){var b=a.offsetTop,e=a.offsetLeft;c.offset.initialize();c.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(c.css(a,"marginTop"))||0,e+=parseFloat(c.css(a,"marginLeft"))||0);return{top:b,left:e}},setOffset:function(a,b,e){var g=c.css(a,"position");g==="static"&&(a.style.position="relative");var h=c(a),i=h.offset(),l=c.css(a,"top"),p=c.css(a,"left"),r=g==="absolute"&&c.inArray("auto",[l,p])>-1;g={};var D={};r&&(D=h.position());l=r?D.top:parseInt(l,
10)||0;p=r?D.left:parseInt(p,10)||0;c.isFunction(b)&&(b=b.call(a,e,i));b.top!=null&&(g.top=b.top-i.top+l);b.left!=null&&(g.left=b.left-i.left+p);"using"in b?b.using.call(a,g):h.css(g)}};c.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),e=this.offset(),g=ib.test(b[0].nodeName)?{top:0,left:0}:b.offset();e.top-=parseFloat(c.css(a,"marginTop"))||0;e.left-=parseFloat(c.css(a,"marginLeft"))||0;g.top+=parseFloat(c.css(b[0],"borderTopWidth"))||0;g.left+=parseFloat(c.css(b[0],
"borderLeftWidth"))||0;return{top:e.top-g.top,left:e.left-g.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||n.body;a&&!ib.test(a.nodeName)&&c.css(a,"position")==="static";)a=a.offsetParent;return a})}});c.each(["Left","Top"],function(a,b){var e="scroll"+b;c.fn[e]=function(g){var h=this[0],i;if(!h)return null;if(g!==f)return this.each(function(){(i=m(this))?i.scrollTo(a?c(i).scrollLeft():g,a?g:c(i).scrollTop()):this[e]=g});return(i=m(h))?"pageXOffset"in i?i[a?
"pageYOffset":"pageXOffset"]:c.support.boxModel&&i.document.documentElement[e]||i.document.body[e]:h[e]}});c.each(["Height","Width"],function(a,b){var e=b.toLowerCase();c.fn["inner"+b]=function(){return this[0]?parseFloat(c.css(this[0],e,"padding")):null};c.fn["outer"+b]=function(g){return this[0]?parseFloat(c.css(this[0],e,g?"margin":"border")):null};c.fn[e]=function(g){var h=this[0];if(!h)return g==null?null:this;if(c.isFunction(g))return this.each(function(l){var p=c(this);p[e](g.call(this,l,p[e]()))});
if(c.isWindow(h)){var i=h.document.documentElement["client"+b];return h.document.compatMode==="CSS1Compat"&&i||h.document.body["client"+b]||i}if(h.nodeType===9)return Math.max(h.documentElement["client"+b],h.body["scroll"+b],h.documentElement["scroll"+b],h.body["offset"+b],h.documentElement["offset"+b]);if(g===f){h=c.css(h,e);i=parseFloat(h);return c.isNaN(i)?h:i}return this.css(e,typeof g==="string"?g:g+"px")}})})(window);
(function(){var d=this,f=d._,m={},s=Array.prototype,w=Object.prototype,I=s.slice,G=s.unshift,K=w.toString,T=w.hasOwnProperty,ea=s.forEach,ba=s.map,ka=s.reduce,qa=s.reduceRight,ra=s.filter,Da=s.every,wa=s.some,ma=s.indexOf,na=s.lastIndexOf;w=Array.isArray;var Ea=Object.keys,n=function(k){return new oa(k)};if(typeof module!=="undefined"&&module.exports){module.exports=n;n._=n}else d._=n;n.VERSION="1.1.4";var c=n.each=n.forEach=function(k,u,z){if(k!=null)if(ea&&k.forEach===ea)k.forEach(u,z);else if(n.isNumber(k.length))for(var B=
0,L=k.length;B<L;B++){if(u.call(z,k[B],B,k)===m)break}else for(B in k)if(T.call(k,B))if(u.call(z,k[B],B,k)===m)break};n.map=function(k,u,z){var B=[];if(k==null)return B;if(ba&&k.map===ba)return k.map(u,z);c(k,function(L,R,Y){B[B.length]=u.call(z,L,R,Y)});return B};n.reduce=n.foldl=n.inject=function(k,u,z,B){var L=z!==void 0;if(k==null)k=[];if(ka&&k.reduce===ka){if(B)u=n.bind(u,B);return L?k.reduce(u,z):k.reduce(u)}c(k,function(R,Y,Na){if(!L&&Y===0){z=R;L=true}else z=u.call(B,z,R,Y,Na)});if(!L)throw new TypeError("Reduce of empty array with no initial value");
return z};n.reduceRight=n.foldr=function(k,u,z,B){if(k==null)k=[];if(qa&&k.reduceRight===qa){if(B)u=n.bind(u,B);return z!==void 0?k.reduceRight(u,z):k.reduceRight(u)}k=(n.isArray(k)?k.slice():n.toArray(k)).reverse();return n.reduce(k,u,z,B)};n.find=n.detect=function(k,u,z){var B;Fa(k,function(L,R,Y){if(u.call(z,L,R,Y)){B=L;return true}});return B};n.filter=n.select=function(k,u,z){var B=[];if(k==null)return B;if(ra&&k.filter===ra)return k.filter(u,z);c(k,function(L,R,Y){if(u.call(z,L,R,Y))B[B.length]=
L});return B};n.reject=function(k,u,z){var B=[];if(k==null)return B;c(k,function(L,R,Y){u.call(z,L,R,Y)||(B[B.length]=L)});return B};n.every=n.all=function(k,u,z){u=u||n.identity;var B=true;if(k==null)return B;if(Da&&k.every===Da)return k.every(u,z);c(k,function(L,R,Y){if(!(B=B&&u.call(z,L,R,Y)))return m});return B};var Fa=n.some=n.any=function(k,u,z){u=u||n.identity;var B=false;if(k==null)return B;if(wa&&k.some===wa)return k.some(u,z);c(k,function(L,R,Y){if(B=u.call(z,L,R,Y))return m});return B};
n.include=n.contains=function(k,u){var z=false;if(k==null)return z;if(ma&&k.indexOf===ma)return k.indexOf(u)!=-1;Fa(k,function(B){if(z=B===u)return true});return z};n.invoke=function(k,u){var z=I.call(arguments,2);return n.map(k,function(B){return(u?B[u]:B).apply(B,z)})};n.pluck=function(k,u){return n.map(k,function(z){return z[u]})};n.max=function(k,u,z){if(!u&&n.isArray(k))return Math.max.apply(Math,k);var B={computed:-Infinity};c(k,function(L,R,Y){R=u?u.call(z,L,R,Y):L;R>=B.computed&&(B={value:L,
computed:R})});return B.value};n.min=function(k,u,z){if(!u&&n.isArray(k))return Math.min.apply(Math,k);var B={computed:Infinity};c(k,function(L,R,Y){R=u?u.call(z,L,R,Y):L;R<B.computed&&(B={value:L,computed:R})});return B.value};n.sortBy=function(k,u,z){return n.pluck(n.map(k,function(B,L,R){return{value:B,criteria:u.call(z,B,L,R)}}).sort(function(B,L){var R=B.criteria,Y=L.criteria;return R<Y?-1:R>Y?1:0}),"value")};n.sortedIndex=function(k,u,z){z=z||n.identity;for(var B=0,L=k.length;B<L;){var R=B+
L>>1;z(k[R])<z(u)?B=R+1:L=R}return B};n.toArray=function(k){if(!k)return[];if(k.toArray)return k.toArray();if(n.isArray(k))return k;if(n.isArguments(k))return I.call(k);return n.values(k)};n.size=function(k){return n.toArray(k).length};n.first=n.head=function(k,u,z){return u&&!z?I.call(k,0,u):k[0]};n.rest=n.tail=function(k,u,z){return I.call(k,n.isUndefined(u)||z?1:u)};n.last=function(k){return k[k.length-1]};n.compact=function(k){return n.filter(k,function(u){return!!u})};n.flatten=function(k){return n.reduce(k,
function(u,z){if(n.isArray(z))return u.concat(n.flatten(z));u[u.length]=z;return u},[])};n.without=function(k){var u=I.call(arguments,1);return n.filter(k,function(z){return!n.include(u,z)})};n.uniq=n.unique=function(k,u){return n.reduce(k,function(z,B,L){if(0==L||(u===true?n.last(z)!=B:!n.include(z,B)))z[z.length]=B;return z},[])};n.intersect=function(k){var u=I.call(arguments,1);return n.filter(n.uniq(k),function(z){return n.every(u,function(B){return n.indexOf(B,z)>=0})})};n.zip=function(){for(var k=
I.call(arguments),u=n.max(n.pluck(k,"length")),z=Array(u),B=0;B<u;B++)z[B]=n.pluck(k,""+B);return z};n.indexOf=function(k,u,z){if(k==null)return-1;if(z){z=n.sortedIndex(k,u);return k[z]===u?z:-1}if(ma&&k.indexOf===ma)return k.indexOf(u);z=0;for(var B=k.length;z<B;z++)if(k[z]===u)return z;return-1};n.lastIndexOf=function(k,u){if(k==null)return-1;if(na&&k.lastIndexOf===na)return k.lastIndexOf(u);for(var z=k.length;z--;)if(k[z]===u)return z;return-1};n.range=function(k,u,z){var B=I.call(arguments),L=
B.length<=1;k=L?0:B[0];u=L?B[0]:B[1];z=B[2]||1;B=Math.max(Math.ceil((u-k)/z),0);L=0;for(var R=Array(B);L<B;){R[L++]=k;k+=z}return R};n.bind=function(k,u){var z=I.call(arguments,2);return function(){return k.apply(u||{},z.concat(I.call(arguments)))}};n.bindAll=function(k){var u=I.call(arguments,1);if(u.length==0)u=n.functions(k);c(u,function(z){k[z]=n.bind(k[z],k)});return k};n.memoize=function(k,u){var z={};u=u||n.identity;return function(){var B=u.apply(this,arguments);return B in z?z[B]:z[B]=k.apply(this,
arguments)}};n.delay=function(k,u){var z=I.call(arguments,2);return setTimeout(function(){return k.apply(k,z)},u)};n.defer=function(k){return n.delay.apply(n,[k,1].concat(I.call(arguments,1)))};var xa=function(k,u,z){var B;return function(){var L=this,R=arguments,Y=function(){B=null;k.apply(L,R)};z&&clearTimeout(B);if(z||!B)B=setTimeout(Y,u)}};n.throttle=function(k,u){return xa(k,u,false)};n.debounce=function(k,u){return xa(k,u,true)};n.wrap=function(k,u){return function(){var z=[k].concat(I.call(arguments));
return u.apply(this,z)}};n.compose=function(){var k=I.call(arguments);return function(){for(var u=I.call(arguments),z=k.length-1;z>=0;z--)u=[k[z].apply(this,u)];return u[0]}};n.keys=Ea||function(k){if(n.isArray(k))return n.range(0,k.length);var u=[],z;for(z in k)if(T.call(k,z))u[u.length]=z;return u};n.values=function(k){return n.map(k,n.identity)};n.functions=n.methods=function(k){return n.filter(n.keys(k),function(u){return n.isFunction(k[u])}).sort()};n.extend=function(k){c(I.call(arguments,1),
function(u){for(var z in u)k[z]=u[z]});return k};n.clone=function(k){return n.isArray(k)?k.slice():n.extend({},k)};n.tap=function(k,u){u(k);return k};n.isEqual=function(k,u){if(k===u)return true;var z=typeof k;if(z!=typeof u)return false;if(k==u)return true;if(!k&&u||k&&!u)return false;if(k._chain)k=k._wrapped;if(u._chain)u=u._wrapped;if(k.isEqual)return k.isEqual(u);if(n.isDate(k)&&n.isDate(u))return k.getTime()===u.getTime();if(n.isNaN(k)&&n.isNaN(u))return false;if(n.isRegExp(k)&&n.isRegExp(u))return k.source===
u.source&&k.global===u.global&&k.ignoreCase===u.ignoreCase&&k.multiline===u.multiline;if(z!=="object")return false;if(k.length&&k.length!==u.length)return false;z=n.keys(k);var B=n.keys(u);if(z.length!=B.length)return false;for(var L in k)if(!(L in u)||!n.isEqual(k[L],u[L]))return false;return true};n.isEmpty=function(k){if(n.isArray(k)||n.isString(k))return k.length===0;for(var u in k)if(T.call(k,u))return false;return true};n.isElement=function(k){return!!(k&&k.nodeType==1)};n.isArray=w||function(k){return K.call(k)===
"[object Array]"};n.isArguments=function(k){return!!(k&&T.call(k,"callee"))};n.isFunction=function(k){return!!(k&&k.constructor&&k.call&&k.apply)};n.isString=function(k){return!!(k===""||k&&k.charCodeAt&&k.substr)};n.isNumber=function(k){return!!(k===0||k&&k.toExponential&&k.toFixed)};n.isNaN=function(k){return k!==k};n.isBoolean=function(k){return k===true||k===false};n.isDate=function(k){return!!(k&&k.getTimezoneOffset&&k.setUTCFullYear)};n.isRegExp=function(k){return!!(k&&k.test&&k.exec&&(k.ignoreCase||
k.ignoreCase===false))};n.isNull=function(k){return k===null};n.isUndefined=function(k){return k===void 0};n.noConflict=function(){d._=f;return this};n.identity=function(k){return k};n.times=function(k,u,z){for(var B=0;B<k;B++)u.call(z,B)};n.mixin=function(k){c(n.functions(k),function(u){Ma(u,n[u]=k[u])})};var ya=0;n.uniqueId=function(k){var u=ya++;return k?k+u:u};n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};n.template=function(k,u){var z=n.templateSettings;z="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+
k.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(z.interpolate,function(B,L){return"',"+L.replace(/\\'/g,"'")+",'"}).replace(z.evaluate||null,function(B,L){return"');"+L.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";z=new Function("obj",z);return u?z(u):z};var oa=function(k){this._wrapped=k};n.prototype=oa.prototype;var za=function(k,u){return u?n(k).chain():k},Ma=function(k,u){oa.prototype[k]=
function(){var z=I.call(arguments);G.call(z,this._wrapped);return za(u.apply(n,z),this._chain)}};n.mixin(n);c(["pop","push","reverse","shift","sort","splice","unshift"],function(k){var u=s[k];oa.prototype[k]=function(){u.apply(this._wrapped,arguments);return za(this._wrapped,this._chain)}});c(["concat","join","slice"],function(k){var u=s[k];oa.prototype[k]=function(){return za(u.apply(this._wrapped,arguments),this._chain)}});oa.prototype.chain=function(){this._chain=true;return this};oa.prototype.value=
function(){return this._wrapped}})();function SuperSlider(d,f){this.id=d;this.init(f);return this.slider}
SuperSlider.prototype={init:function(d){var f=this;this.options={slider_class:"ss_slider",track_class:"ss_track",handle_class:"ss_handle",input_class:"ss_input",label_class:"ss_label",min:0,max:1,step:0.01,"default":0.5,decimal_places:3,label:null,name:null,hide_slider:false,hide_input:false};this.options=$.extend({},this.options,d);this.slider=$("<div>").addClass(this.options.slider_class).attr("id",this.id).data("superslider",this).css("webkitUserSelect","none");this.track=$("<div>").addClass(this.options.track_class);
this.handle=$("<div>").addClass(this.options.handle_class);this.input=$("<input>").attr("type",this.options.hide_input?"hidden":"input").addClass(this.options.input_class).attr("name",this.options.name||this.id).attr("value",this.options["default"]);if(this.options.label){this.label=$("<label>").text(this.options.label).addClass(this.options.label_class).attr("title","Click to reset to default");this.slider.append(this.label.get(0))}this.track.append(this.handle.get(0));this.slider.append(this.track.get(0));
this.slider.append(this.input.get(0));this.options.hide_slider&&this.track.hide();this.mouseDown=function(m){f.startDrag(m)};this.mouseMove=function(m){f.onDrag(m)};this.mouseUp=function(m){f.endDrag(m)};this.mouseOver=function(m){f.infocus=true;m.stopPropagation()};this.mouseOut=function(m){f.infocus=false;m.stopPropagation()};this.keyDown=function(m){f.keyPress(m)};this.startEdit=function(){f.editing=true};this.endEdit=function(){f.value(f.input.get(0).value);f.editing=false};this.labelClick=function(){f.updateSlider(f.options["default"]);
return false};this.slider.bind("DOMNodeInserted",function(m){f.sliderInserted(m);f.initialised=true});this.infocus=false;this.slider.data("slider",this)},sliderInserted:function(){var d=this;window.setTimeout(function(){d.handle_width=parseInt(window.getComputedStyle(d.handle.get(0),null).getPropertyValue("width"),10);d.track_width=parseInt(window.getComputedStyle(d.track.get(0),null).getPropertyValue("width"),10)-d.handle_width;d.updateSlider(d.options["default"]);d.label&&d.label.bind("click",d.labelClick);
d.track.bind("mousedown",d.mouseDown);d.track.bind("selectstart",function(){return false});d.slider.bind("mouseover",d.mouseOver);d.slider.bind("mouseout",d.mouseOut);d.input.bind("blur",d.endEdit);document.addEventListener("keydown",d.keyDown,false)},1)},value:function(d){typeof d!=="undefined"&&this.updateSlider(d);return this.val},updateSlider:function(d){var f=this.round(parseFloat(Math.min(Math.max(d,this.options.min),this.options.max)),this.options.decimal_places),m=this.track_width*((f-this.options.min)/
(this.options.max-this.options.min));if(isNaN(f)||d===""){this.input.attr("value",this.val);this.input.get(0).value=this.val}else{this.handle.css("left",m);this.val=f;this.input.attr("value",this.val);this.input.get(0).value=this.val;this.input.get(0).val=this.val;if(this.initialised&&this.old_val!==this.val){this.input.trigger("change");this.old_val=this.val}}},startDrag:function(d){if(d.currentTarget===d.target){this.ox=this.handle_width/2;this.onDrag(d)}else this.ox=d.offsetX||d.layerX;this.track.get(0).addEventListener("mousemove",
this.mouseMove,false);$("body").bind("mouseup",this.mouseUp)},onDrag:function(d){var f;f=d.currentTarget===d.target?d.offsetX||d.layerX:d.target.offsetLeft+(d.offsetX||d.layerX);f-=this.ox;f=f/this.track_width*(this.options.max-this.options.min);d.altKey||(f=Math.floor(f/this.options.step)*this.options.step);this.updateSlider(this.options.min+f)},endDrag:function(){this.track.get(0).removeEventListener("mousemove",this.mouseMove,false);$("body").unbind("mouseup",this.mouseUp)},keyPress:function(d){var f=
1;if(this.infocus){if(d.shiftKey&&d.altKey)f=0.01;else if(d.altKey)f=0.1;else if(d.shiftKey)f=10;switch(d.keyCode){case 38:this.value(this.val+=this.options.step*f);d.preventDefault();return false;case 40:this.value(this.val-=this.options.step*f);d.preventDefault();return false;case 13:this.input.get(0).blur();d.preventDefault();return false}}return true},round:function(d,f){var m=Math.pow(10,f||1);return Math.round(d*m)/m}};
function Color(d,f,m){this._b=this._g=this._r=0;if(typeof d==="object"){this.r(d[0],false);this.g(d[1],false);this.b(d[2],false)}else if(typeof d==="string")this.hex(d);else{this.r(d,false);this.g(f,false);this.b(m,false)}this.rgb2hsv()}
Color.rgb2hsv=function(d,f,m){d=typeof d==="number"?[d/255,f/255,m/255]:[d.r/255,d.g/255,d.b/255];f=Math.max(d[0],Math.max(d[1],d[2]));var s=f-Math.min(d[0],Math.min(d[1],d[2])),w,I,G;if(s===0)m=w=0;else{m=s/f;I=((f-d[0])/6+s/2)/s;G=((f-d[1])/6+s/2)/s;s=((f-d[2])/6+s/2)/s;if(d[0]===f)w=s-G;else if(d[1]===f)w=1/3+I-s;else if(d[2]===f)w=2/3+G-I;if(w<0)w+=1;if(w>1)w-=1}return[Math.round(w*359),Math.round(m*100),Math.round(f*100)]};
Color.hsv2rgb=function(d,f,m){var s,w,I,G,K,T;d/=359;f/=100;m/=100;if(d===1)d=0;if(m===0)return[0,0,0];else if(f===0){m*=255;return[m,m,m]}else{d*=6;T=parseInt(Math.floor(d),10);G=d-T;d=m*(1-f);K=m*(1-f*G);f=m*(1-f*(1-G));if(T===0){s=m;w=f;I=d}else if(T===1){s=K;w=m;I=d}else if(T===2){s=d;w=m;I=f}else if(T===3){s=d;w=K;I=m}else if(T===4){s=f;w=d;I=m}else if(T===5){s=m;w=d;I=K}}return[Math.round(s*255),Math.round(w*255),Math.round(I*255)]};
Color.mix=function(d,f,m){var s=d.r()*m+f.r()*(1-m),w=d.g()*m+f.g()*(1-m);d=d.b()*m+f.b()*(1-m);return new Color([s,w,d])};
Color.prototype={r:function(d,f){if(typeof d!=="undefined"){this._r=this.clamp(d,255);f!==false&&this.rgb2hsv()}return this.clamp(this._r,255,true)},g:function(d,f){if(typeof d!=="undefined"){this._g=this.clamp(d,255);f!==false&&this.rgb2hsv()}return this.clamp(this._g,255,true)},b:function(d,f){if(typeof d!=="undefined"){this._b=this.clamp(d,255);f!==false&&this.rgb2hsv()}return this.clamp(this._b,255,true)},red:function(d,f){return this.r(d,f)},green:function(d,f){return this.g(d,f)},blue:function(d,
f){return this.b(d,f)},_rgbParam:function(d,f,m){if(typeof f!=="undefined"){d=this.clamp(f,255);m!==false&&this.rgb2hsv()}return this.clamp(d,255,true)},rgb:function(d){if(typeof d==="object"){this._r=this.clamp(d[0],255);this._g=this.clamp(d[1],255);this._b=this.clamp(d[2],255);this.rgb2hsv()}return[this.r(),this.g(),this.b()]},h:function(d){if(typeof d!=="undefined"){this._h=this.clamp(d,359);this.hsv2rgb()}return this.clamp(this._h,359,true)},s:function(d){if(typeof d!=="undefined"){this._s=this.clamp(d,
100);this.hsv2rgb()}return this.clamp(this._s,100,true)},v:function(d){if(typeof d!=="undefined"){this._v=this.clamp(d,100);this.hsv2rgb()}return this.clamp(this._v,100,true)},hue:function(d){return this.h(d)},saturation:function(d){return this.s(d)},brightness:function(d){return this.v(d)},hsv:function(d){if(typeof d==="object"){this._h=this.clamp(d[0],359);this._s=this.clamp(d[1],100);this._v=this.clamp(d[2],100);this.hsv2rgb()}return[this.h(),this.s(),this.v()]},hsv2rgb:function(){var d=Color.hsv2rgb(this._h,
this._s,this._v);this._r=d[0];this._g=d[1];this._b=d[2]},rgb2hsv:function(){var d=Color.rgb2hsv(this._r,this._g,this._b);this._h=d[0];this._s=d[1];this._v=d[2]},normalized:function(){return[this._r/255,this._g/255,this._b/255]},hsv_normalized:function(){return[this._h/359,this._s/100,this._v/100]},hex:function(d){var f="";if(typeof d==="string"){d=d.replace(RegExp("[^0-9a-f]","gi"),"");if(d.length===3)d+=d;else if(d.length===2)d+=d+d;this._r=parseInt(d.substring(0,2)||0,16);this._g=parseInt(d.substring(2,
4)||0,16);this._b=parseInt(d.substring(4,6)||0,16);this.rgb2hsv()}for(d=0;d<3;d+=1){if(this.rgb()[d]<16)f+="0";f+=this.rgb()[d].toString(16)}return f.toUpperCase()},css:function(){return"rgb("+this.r()+","+this.g()+","+this.b()+")"},clamp:function(d,f,m){d=parseFloat(d,10)||0;if(typeof d!=="number")d=0;return m?Math.min(Math.max(Math.floor(d),0),f):Math.min(Math.max(d,0),f)},toString:function(){return"Color [red: "+this.r()+", green: "+this.g()+", blue: "+this.b()+", hue: "+this.h()+", saturation: "+
this.s()+", brightness: "+this.v()+"]"},clone:function(){return new Color(this.rgb())}};function ColorPicker(d){this.init(d);this.container.data("color_picker",this);return this.container}
ColorPicker.prototype={init:function(d){var f=this,m={container_class:"cp_container",canvas_container_class:"cp_canvas_container",canvas_class:"cp_canvas",canvas_slider_class:"cp_canvas_slider",slider_cursor_class:"cp_slider_cursor",ui_class:"cp_ui",label_class:"cp_label",radio_class:"cp_radio",input_class:"cp_input",hex_input_class:"cp_hex_input",cursor_class:"cp_cursor",colorbox_class:"cp_colorbox",canvas_overlay:"cp_overlay",canvas_slider_overlay:"cp_slider_overlay",width:256,height:256,base_color:new Color(255,
0,0),current_color:new Color(255,0,0),old_color:new Color(255,0,0),amount:1,mode:0,vertex_path:null,fragment_path:null};this.options=$.extend({},m,d);$.each(["base_color","current_color","base_color"],function(s,w){if(typeof f.options[w].length==="number")f.options[w]=new Color(f.options[w])});this.color_for_slider=this.options.base_color;this.onDown=function(s){f.sampleCanvas(s);f.canvas_overlay.bind("mousemove",f.onDrag);f.canvas_overlay.bind("mouseup mouseout",f.onUp)};this.onDrag=function(s){f.sampleCanvas(s)};
this.onUp=function(){f.canvas_overlay.unbind("mousemove mouseup")};this.onSliderDown=function(s){f.canvas_slider_overlay.bind("mousemove",f.onSliderDrag);f.canvas_slider_overlay.bind("mouseup mouseout",f.onSliderUp);f.onSliderDrag(s)};this.onSliderDrag=function(s){f.sliderEvent(Math.max(Math.min(((s.offsetX||s.layerX)-10)/f.options.width,1),0))};this.onSliderUp=function(){f.canvas_slider_overlay.unbind("mousemove mouseup mouseout")};this.inputChange=function(){f.options.mode<3?f.updateHSB():f.updateRGB();
f.updateColor();f.switchMode()};this.hexChange=function(s){f.updateColor(new Color(s.target.value));f.switchMode()};this.resetColor=function(){f.updateColor(f.options.base_color);f.switchMode()};this.initUI();this.current_mode="cb_Hue";this.container.bind("DOMNodeInserted",function(){f.palette||f.initWebGL()})},initUI:function(){var d=this,f,m,s;this.container=$("<div>").addClass(this.options.container_class).data("picker",this);this.canvas_container=$("<div>").attr({width:this.options.width,height:this.options.height}).addClass(this.options.canvas_container_class);
this.canvas=$("<canvas>").attr({width:this.options.width,height:this.options.height}).addClass(this.options.canvas_class);this.canvas_slider=$("<canvas>").attr({width:this.options.width,height:20}).addClass(this.options.canvas_slider_class);this.canvas_container.append(this.canvas);this.canvas_container.append(this.canvas_slider);this.cy=this.cx=0;this.cursor=$("<span>").addClass(this.options.cursor_class).css({left:this.cx,top:this.cy});this.ui=$("<div>").addClass(this.options.ui_class);this.slider_cursor=
$("<span>").addClass(this.options.slider_cursor_class).css({left:this.cx,top:this.options.height+4}).appendTo(this.canvas_container);this.canvas_slider_overlay=$("<div>").addClass(this.options.canvas_slider_overlay).appendTo(this.canvas_container).bind("mousedown",this.onSliderDown).bind("selectstart",function(){return false});this.canvas_overlay=$("<div>").addClass(this.options.canvas_overlay).bind("mousedown",this.onDown).bind("selectstart",function(){return false});this.canvas_container.append(this.cursor);
this.canvas_container.append(this.canvas_overlay);this.container.append(this.canvas_container);this.container.append(this.ui);this.color_box=$("<div>").addClass(this.options.colorbox_class);this.color_box1=$("<span>").addClass(this.options.colorbox_class+"_1").css("backgroundColor",this.options.current_color.hex());this.color_box2=$("<span>").addClass(this.options.colorbox_class+"_2").css("backgroundColor",this.options.base_color.hex()).click(this.resetColor);this.color_box.append(this.color_box1);
this.color_box.append(this.color_box2);this.ui.append(this.color_box);$.each(["Hue","Saturation","Brightness","Red","Green","Blue"],function(w,I){f=$("<label>").addClass(d.options.label_class+" cp_label_"+I).attr("for","cb_"+I).text(I[0]);m=$("<input>").addClass(d.options.radio_class).attr({id:"cb_"+I,value:w,name:"cp_mode",type:"radio"});f.prepend(m);s=$("<input>").addClass(d.options.input_class).attr({id:"inp_"+I,value:0,type:"text",maxlength:3}).bind("change blur",d.inputChange);d["inp_"+I]=s;
f.prepend(s);d.ui.append(f);m.bind("change",function(G){d.switchMode(G)})});f=$("<label>").addClass(d.options.label_class+" cp_label_hex").attr("for","cb_hex").text("#");this.hex_input=$("<input>").attr({type:"text",maxlength:7}).addClass(d.options.hex_input_class).change(d.hexChange).appendTo(f);this.ui.append(f)},initWebGL:function(){var d=this;this.palette=new GLQuad({canvas:this.canvas,vertex:null,fragment:null,width:this.options.width,height:this.options.height,vertex_path:this.options.vertex_path,
fragment_path:this.options.fragment_path});this.palette_quad=this.palette.data("GLQuad");this.palette.bind("loaded",function(){}).bind("ready",function(){d.palette_slider=new GLQuad({canvas:d.canvas_slider,vertex:d.palette_quad.options.vertex,fragment:d.palette_quad.options.fragment,width:d.options.width,height:20});d.palette_slider_quad=d.palette_slider.data("GLQuad");$("input[type=radio]",d.ui).first().attr("checked",true).trigger("change")}).bind("error",function(f){console.log("Error",$(f.target).data("GLQuad").error)})},
setColor:function(d){this.options.old_color=new Color(d);this.options.base_color=new Color(d);this.color_for_slider=this.options.base_color;this.updateColor(this.options.old_color);this.canvas_overlay.unbind("mousemove mouseup mouseout");this.canvas_slider_overlay.unbind("mousemove mouseup mouseout");this.switchMode()},switchMode:function(d){var f=d?parseInt(d.target.value,10):this.options.mode,m,s=this.options.current_color.hsv_normalized(),w=this.options.current_color.normalized();switch(f){case 0:m=
s[0];this.cx=s[1]*this.options.width;this.cy=(1-s[2])*this.options.height;break;case 1:m=s[1];this.cx=s[0]*this.options.width;this.cy=(1-s[2])*this.options.height;break;case 2:m=s[2];this.cx=s[0]*this.options.width;this.cy=(1-s[1])*this.options.height;break;case 3:m=w[0];this.cx=w[2]*this.options.width;this.cy=(1-w[1])*this.options.height;break;case 4:m=w[1];this.cx=w[2]*this.options.width;this.cy=(1-w[0])*this.options.height;break;case 5:m=w[2];this.cx=w[0]*this.options.width;this.cy=(1-w[1])*this.options.height}this.options.mode=
f;this.sliderEvent(m);if(f===2)this.color_for_slider=this.options.current_color;this.cursor.css({left:this.cx,top:this.cy});this.current_mode=d&&d.currentTarget.id||this.current_mode||"cb_Hue"},sliderEvent:function(d){this.slider_cursor.css("left",d*this.options.width);this.options.amount=d;$("#"+this.current_mode.replace("cb_","inp_")).val(Math.round(d*[359,100,100,255,255,255][this.options.mode]));this.options.mode<3?this.updateHSB():this.updateRGB();this.updateColor(this.samplePalette(this.cx,
this.cy))},sampleCanvas:function(d){var f=(d.offsetY||d.layerY)-11;this.cx=Math.max(Math.min((d.offsetX||d.layerX)-11,this.options.width-1),0);this.cy=Math.max(Math.min(f,this.options.height-1),0);this.cursor.css({left:this.cx,top:this.cy});d=this.samplePalette(this.cx,this.cy);this.color_for_slider=d.clone();this.color_for_slider.brightness(100);this.updateColor(d)},samplePalette:function(d,f){var m=new Color;d/=this.options.width;f/=this.options.height;f=1-f;switch(this.options.mode){case 0:m.hsv([360*
this.options.amount,101*d,101*f]);break;case 1:m.hsv([360*d,101*this.options.amount,101*f]);break;case 2:m.hsv([360*d,101*f,101*this.options.amount]);break;case 3:m=new Color([this.options.amount*255,f*255,d*255]);break;case 4:m=new Color([f*255,this.options.amount*255,d*255]);break;case 5:m=new Color([d*255,f*255,this.options.amount*255])}return m},updateRGB:function(){this.options.current_color=new Color([this.inp_Red.val(),this.inp_Green.val(),this.inp_Blue.val()])},updateHSB:function(){this.options.current_color.hsv([this.inp_Hue.val(),
this.inp_Saturation.val(),this.inp_Brightness.val()])},updateColor:function(d){if(d)this.options.current_color=d;this.color_box1.css("background-color",this.options.current_color.css());this.color_box2.css("background-color",this.options.old_color.css());this.inp_Red.val(this.options.current_color.r());this.inp_Green.val(this.options.current_color.g());this.inp_Blue.val(this.options.current_color.b());this.inp_Hue.val(this.options.current_color.h());this.inp_Saturation.val(this.options.current_color.s());
this.inp_Brightness.val(this.options.current_color.v());this.hex_input.val(this.options.current_color.hex());this.draw()},draw:function(){var d;if(this.palette_slider_quad){d=new Color;if(this.options.mode===0){d.hue(this.options.amount*359);d.saturation(100);d.brightness(100);this.options.base_color=d;this.options.slider_color=d.normalized()}else if(this.options.mode===1){this.options.slider_color1=[this.options.current_color.hue()/359,1,1];this.options.slider_color2=[this.options.slider_color1[0],
0,Math.max(this.options.current_color.brightness()/100,0.33)];d.hue(this.options.current_color.hue());d.saturation(100);d.brightness(100);this.options.base_color=d}else if(this.options.mode===2){d.hue(this.options.current_color.hue());d.saturation(100);d.brightness(100);this.options.slider_color=d.normalized();this.options.slider_color1=this.color_for_slider.normalized();this.options.base_color=this.options.current_color}else if(this.options.mode===3){d.rgb([255,this.options.current_color.g(),this.options.current_color.b()]);
this.options.slider_color1=d.normalized();d.red(0);this.options.slider_color2=d.normalized()}else if(this.options.mode===4){d.rgb([this.options.current_color.r(),255,this.options.current_color.b()]);this.options.slider_color1=d.normalized();d.green(0);this.options.slider_color2=d.normalized()}else if(this.options.mode===5){d.rgb([this.options.current_color.r(),this.options.current_color.g(),255]);this.options.slider_color1=d.normalized();d.blue(0);this.options.slider_color2=d.normalized()}this.palette_quad.parameters=
{amount:this.options.amount,base_color:this.options.base_color.normalized(),mode:this.options.mode};this.palette_slider_quad.parameters={amount:this.options.slider_amount||0,base_color:this.options.slider_color,color1:this.options.slider_color1||[0,0,0],color2:this.options.slider_color2||[0,0,0],mode:this.options.mode+6};this.palette_quad.draw();this.palette_slider_quad.draw();this.container.trigger("change",[this.options.current_color])}}};function GLQuad(d){this.init(d);return this.canvas}
GLQuad.supported=function(d){var f=["webgl","experimental-webgl","webkit-3d","moz-webgl"],m,s;for(s=0;s<f.length;s+=1){try{m=(d||$("<canvas>")).get(0).getContext(f[s])}catch(w){}if(m)break}return m};
GLQuad.prototype={init:function(d){var f=this;this.options={canvas:null,canvas_class:"gl_canvas",width:400,height:400,vertex:null,fragment:null,vertext_path:null,fragment_path:null,magic_define:"dE"};$.extend(this.options,d);this.canvas=this.options.canvas?this.options.canvas:$("<canvas>").bind("DOMNodeInserted",function(){f.gl||f.initGL()});this.canvas.attr({width:this.options.width,height:this.options.height}).addClass(this.options.canvas_class).data("GLQuad",this);this.parameters={};this.options.canvas&&
!f.gl&&f.initGL()},initGL:function(){this.gl=GLQuad.supported(this.canvas);if(!this.gl){alert("WebGL not supported");throw"Cannot create WebGL context";}this.reset();this.vertex_buffer=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertex_buffer);this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),this.gl.STATIC_DRAW);if(this.options.vertex&&this.options.fragment)this.createProgram(this.options.vertex,this.options.fragment);else this.options.vertex_path&&
this.options.fragment_path&&this.loadShaders(this.options.vertex_path,this.options.fragment_path)},loadShaders:function(d,f){this.options.vertex="";this.options.fragment="";this.loadShader("vertex",d);this.loadShader("fragment",f)},reset:function(d){this.error="";this.uniforms={};this.controls=[];this.defines={vertex:{},fragment:{}};if(d)this.parameters={}},loadShader:function(d,f){var m=this;$.ajax({url:f,dataType:"text",headers:{"Access-Control-Allow-Origin":"*"},success:function(s){m.options[d]=
s;if(m.options.vertex&&m.options.fragment){m.canvas.trigger("loaded");m.createProgram(m.options.vertex,m.options.fragment)}},error:function(){m.error+="Could not load the "+d+" shader: "+f+"\n";m.canvas.trigger("error")}})},loadTexture:function(d){var f=this.gl.createTexture(),m=new Image,s=this.gl,w=this.gl.TEXTURE_2D;m.src=d;m.onload=function(){s.enable(w);s.bindTexture(w,f);s.texImage2D(w,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,m);s.texParameteri(w,s.TEXTURE_MAG_FILTER,s.LINEAR);s.texParameteri(w,s.TEXTURE_MIN_FILTER,
s.LINEAR_MIPMAP_LINEAR);s.texParameteri(w,s.TEXTURE_WRAP_S,s.REPEAT);s.texParameteri(w,s.TEXTURE_WRAP_T,s.REPEAT);s.generateMipmap(w);s.bindTexture(w,null)};return f},createProgram:function(d,f){this.reset();var m=this.gl.createProgram(),s=this.parseShader("vertex",d),w=this.parseShader("fragment",f);this.setDefaultParameters();s=this.createShader(this.gl.VERTEX_SHADER,s,this.defines.vertex);w=this.createShader(this.gl.FRAGMENT_SHADER,w,this.defines.fragment);if(s===null||w===null){console.log("No program");
return false}this.gl.attachShader(m,s);this.gl.attachShader(m,w);this.gl.deleteShader(s);this.gl.deleteShader(w);this.gl.linkProgram(m);this.gl.getProgramParameter(m,this.gl.LINK_STATUS)||(this.error+="VALIDATE_STATUS: "+this.gl.getProgramParameter(m,this.gl.VALIDATE_STATUS)+"\nERROR: "+this.gl.getError()+"\n"+f+"\n\n");if(this.error!==""){this.canvas.trigger("error");return false}else this.glProgram=m;this.options.vertex=d;this.options.fragment=f;this.resize(this.options.width,this.options.height);
this.canvas.trigger("ready");return true},parseShader:function(d,f){var m=f.split("\n"),s=[],w,I=m.length,G,K;for(w=0;w<I;w+=1){if(G=m[w].match(/^uniform (float|int|int2|int3|int4|vec2|vec3|vec4|bool|mat2|mat3|mat4)\s*([\w]+)[^\{]*(\{[^\}]+\})?/)){if(G.length===4&&typeof G[3]!=="undefined"){K={type:G[1],name:G[2]};try{$.extend(K,JSON.parse(G[3]))}catch(T){this.error+=T+"\n"+G[3]+"\n\n";continue}if(this.uniforms[K.name])$.extend(this.uniforms[K.name],K);else{this.uniforms[K.name]=K;this.controls.push(K.name)}if(typeof K.value===
"undefined")K.value=K["default"]}}else if(G=m[w].match(/^#define\s*([\w]+)\s*([\w.\-]+)[^\{]*(\{[^\}]+\})?/))if(G.length===4&&typeof G[3]!=="undefined"){K={name:G[1],value:G[2],"default":G[2],constant:true};try{$.extend(K,JSON.parse(G[3]))}catch(ea){this.error+=ea+"\n"+G[3]+"\n\n";continue}this.defines[d][K.name]=K;continue}s.push(m[w].replace(/\t/g,"    "))}return s.join("\n")},createShader:function(d,f,m){var s=this.gl,w=s.createShader(d),I=[],G,K,T="";for(G in m)if(m.hasOwnProperty(G)){K="";if(m[G].control===
"bool"&&this.parameters[G]===false)K+="//";K+="#define "+G+" "+this.parameters[G];I.push(K)}m[this.options.magic_define]&&I.push("#define "+this.options.magic_define+this.parameters[this.options.magic_define]+" 1");f=I.join("\n")+"\n"+f;s.shaderSource(w,f);s.compileShader(w);if(!s.getShaderParameter(w,s.COMPILE_STATUS)){$.each(s.getShaderSource(w).split("\n"),function(ea,ba){T+=ea+1+": "+ba+"\n"});this.error+=(d===s.VERTEX_SHADER?"VERTEX":"FRAGMENT")+" SHADER:\n"+s.getShaderInfoLog(w)+"\n\n"+T;this.canvas.trigger("error");
return null}this.options[d]=f;return w},sendUniforms:function(){for(var d in this.parameters)this.parameters.hasOwnProperty(d)&&this.sendUniform(d)},sendUniform:function(d){var f=this.gl,m=this.parameters[d],s=this.getUniformLocation(d);d=this.uniforms[d];if(s&&d&&m!==null){d=d.type;switch(d){case "float":f.uniform1f(s,m);break;case "int":case "bool":f.uniform1i(s,m);break;case "vec2":f.uniform2fv(s,m);break;case "int2":f.uniform2iv(s,m);break;case "vec3":f.uniform3fv(s,m);break;case "int3":f.uniform3iv(s,
m);break;case "vec4":f.uniform4fv(s,m);break;case "int4":f.uniform4iv(s,m);break;case "mat2":f.uniformMatrix2fv(s,f.FALSE,m);break;case "mat3":f.uniformMatrix3fv(s,f.FALSE,m);break;case "mat4":f.uniformMatrix4fv(s,f.FALSE,m)}}},getUniformLocation:function(d){return this.gl.getUniformLocation(this.glProgram,d)},setDefaultParameters:function(){var d={};d=this.setParameterObj(this.uniforms,d);if(this.defines.vertex)d=this.setParameterObj(this.defines.vertex,d);if(this.defines.fragment)d=this.setParameterObj(this.defines.fragment,
d);this.parameters=d},setParameterObj:function(d,f){for(var m in d)f[m]=!this.parameters||typeof this.parameters[m]==="undefined"||!d[m].label?d[m]["default"]:this.parameters[m];return f},resize:function(d,f){this.canvas.attr({width:d,height:f});this.gl.viewport(0,0,d,f)},getPixels:function(d,f,m,s){var w;m=m||this.options.width;s=s||this.options.height;w=new Uint8Array(m*s*4);this.gl.readPixels(d||0,f||0,m,s,this.gl.RGBA,this.gl.UNSIGNED_BYTE,w);return w},draw:function(){var d,f=this.gl;if(!this.glProgram)return false;
f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT);f.useProgram(this.glProgram);this.sendUniforms();if(this.texture){d=f.getUniformLocation(this.glProgram,"texture");f.uniform1i(d,0);f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,this.texture)}f.bindBuffer(f.ARRAY_BUFFER,this.vertex_buffer);d=f.getAttribLocation(this.glProgram,"vertexPosition");f.vertexAttribPointer(d,2,f.FLOAT,false,0,0);f.enableVertexAttribArray(d);f.drawArrays(f.TRIANGLES,0,6);f.disableVertexAttribArray(d)}};
function Camera(d,f,m,s,w){this.x=parseFloat(d||0);this.y=parseFloat(f||0);this.z=parseFloat(m||0);this._pitch=parseFloat(s||0);this._yaw=parseFloat(w||0);this._step=0.1;this.deg2rad=Math.PI/180}
Camera.prototype={step:function(d){if(typeof d!=="undefined")this._step=d;return this._step},pitch:function(d){if(typeof d!=="undefined")this._pitch=d;return this._pitch},yaw:function(d){if(typeof d!=="undefined")this._yaw=d;return this._yaw},forward:function(d){this.move(d||this._step,this._yaw,this._pitch)},back:function(d){this.move(-(d||this._step),this._yaw,this._pitch)},up:function(d){this.move(d||this._step,this._yaw,90)},down:function(d){this.move(d||this._step,this._yaw,-90)},strafeLeft:function(d){this.move(d||
this._step,this._yaw-90,0)},strafeRight:function(d){this.move(d||this._step,this._yaw+90,0)},move:function(d,f,m){var s=d*Math.cos(m*this.deg2rad);this.x+=s*Math.sin(f*this.deg2rad);this.z+=s*Math.cos(f*this.deg2rad);this.y+=d*Math.sin(m*this.deg2rad)},position:function(d){if(typeof d==="object"){this.x=d[0];this.y=d[1];this.z=d[2]}return[this.x,this.y,this.z]}};
function FractalLab(d,f){var m=this;this.options=$.extend({},{canvas:null,vertex:null,fragment:null,width:400,height:300,preview_width:400,vertex_path:null,fragment_path:null,framerate:null,color_picker:null,ready_callback:null,fps:60,mode:"3d"},f);this.quad=new GLQuad(this.options);this.gl_quad=this.quad.data("GLQuad");this.ui=$(d);this.quad.bind("loaded",function(){}).bind("ready",function(){m.init();$("#log").text("Shader compiled ok.");$("#image_tab").trigger("click")}).bind("error",function(s){$("#log").text($(s.target).data("GLQuad").error);
$("#log_tab").trigger("click");$("#compile").addClass("enabled")})}
FractalLab.prototype={init:function(){this.tick=0;this.keymove=true;this.editing=this.updated=this.changed=this.drawing=false;this.keystates={};this.impulse={};this.cameraUniform="cameraPosition";this.objRotationUniform="objectRotation";this.moveMultiplier=1;this.init_ui();this.initialized||this.init_events();$("#vertex_code").val(this.gl_quad.options.vertex.replace(/\t/g,"    "));$("#fragment_code").val(this.gl_quad.options.fragment.replace(/\t/g,"    "));window.setTimeout(function(){$("#compile").removeClass("enabled")},
100);this.resize();this.main();!this.initialized&&this.options.ready_callback&&this.options.ready_callback();this.initialized=true},init_ui:function(){$("#group_tabs, .group").remove();this.group_tabs=null;this.addControls();this.setControlVisibility();if(this.gl_quad.parameters[this.cameraUniform]){if(typeof this.gl_quad.parameters.cameraPitch!=="undefined"){this.options.mode="3d";this.camera=new Camera(this.gl_quad.parameters[this.cameraUniform][0],this.gl_quad.parameters[this.cameraUniform][1],
this.gl_quad.parameters[this.cameraUniform][2],this.gl_quad.parameters.cameraPitch,this.gl_quad.parameters.cameraYaw)}else{this.options.mode="2d";this.camera=new Camera(this.gl_quad.parameters[this.cameraUniform][0],this.gl_quad.parameters[this.cameraUniform][1],this.gl_quad.parameters[this.cameraUniform][2],0,0)}this.camera.step(0.0010)}},init_events:function(){var d=this;this.keyEvents();this.mouseDownListener=function(f){if(!d.editing){$(f.target).addClass("moving");d.mouseDown(f)}};this.mouseOverListener=
function(){d.keymove=d.editing?false:true};this.mouseOutListener=function(f){d.keymove=false;$(f.target).removeClass("moving")};this.mouseMoveListener=function(f){d.editing||d.mouseMove(f)};this.mouseUpListener=function(f){d.mouseUp(f);$(f.target).removeClass("moving")};this.gl_quad.canvas.parent().bind("mousewheel DOMMouseScroll",function(f){f.preventDefault();if(f.wheelDelta>0)d.impulse.forward=true;else if(f.wheelDelta<0)d.impulse.backward=true});$(window).resize(function(){window.clearTimeout(d.resizeTimeout);
d.resizeTimeout=window.setTimeout(function(){d.resize()},200)});this.gl_quad.canvas.parent().get(0).addEventListener("mousedown",this.mouseDownListener,false);this.gl_quad.canvas.parent().get(0).addEventListener("mouseover",this.mouseOverListener,false);this.gl_quad.canvas.parent().get(0).addEventListener("mouseout",this.mouseOutListener,false);this.gl_quad.canvas.parent().bind("selectstart",function(){return false});$("#scale_size").change(function(f){d.resize(f)});$("#mode").change(function(){d.mode=
this.value;d.mode!=="cont"&&d.framerate.text("");$(this).blur();d.mouseUp()});this.mode=$("#mode").val();if(this.options.framerate){this.framerate=$(this.options.framerate);this.fps=new FPS(60)}},resize:function(){var d=$(this.gl_quad.canvas),f=d.parent(),m=f.width();f=f.height();var s=m/f;if($("#scale_size")[0].checked){m=this.options.preview_width;f=Math.floor(m/s);d.addClass("fit")}else d.removeClass("fit");if(this.gl_quad.parameters.size)this.gl_quad.parameters.size=[m,f];this.gl_quad.options.width=
m;this.gl_quad.options.height=f;this.gl_quad.resize(m,f);this.gl_quad.draw();$("#resolution").text(m+"x"+f+" px")},load:function(d){$("#vertex_code").val(d.vertex);$("#fragment_code").val(d.fragment);for(var f in d.params)if(typeof d.params["_"+f]!=="undefined")d.params[f]=d.params["_"+f];this.gl_quad.reset();this.gl_quad.parameters=d.params;this.stepSpeed=d.params.stepSpeed;this.recompile()},load_by_path:function(d,f){this.gl_quad.reset(true);this.gl_quad.loadShaders(d,f)},params:function(d){return{title:d,
vertex:$("#vertex_code").val(),fragment:$("#fragment_code").val(),params:this.gl_quad.parameters}},recompile:function(){$("#log").text("");for(var d in this.gl_quad.parameters)if(typeof this.gl_quad.parameters["_"+d]!=="undefined")this.gl_quad.parameters[d]=this.gl_quad.parameters["_"+d];return this.gl_quad.createProgram($("#vertex_code").val(),$("#fragment_code").val())},setControlVisibility:function(){for(var d in this.gl_quad.parameters)this.gl_quad.getUniformLocation(d)||this.gl_quad.defines.vertex[d]||
this.gl_quad.defines.fragment[d]?$("#control_"+d).show():$("#control_"+d).hide();$(".group").first().show();$("#group_tabs a").first().addClass("active");$("#group_tabs a").click(function(){$(".group").hide();$("#group_tabs a").removeClass("active");$(this).addClass("active");$("#group_"+$(this).text()).show()})},addControls:function(){var d,f;this.ui.html("");if(!this.group_tabs){this.group_tabs=$('<div id="group_tabs">');this.ui.append(this.group_tabs)}if(this.gl_quad.defines.vertex)for(d in this.gl_quad.defines.vertex)this.gl_quad.defines.vertex.hasOwnProperty(d)&&
this.addControl(this.gl_quad.defines.fragment[d]);if(this.gl_quad.defines.fragment)for(d in this.gl_quad.defines.fragment)this.gl_quad.defines.fragment.hasOwnProperty(d)&&this.addControl(this.gl_quad.defines.fragment[d]);d=0;for(f=this.gl_quad.controls.length;d<f;d+=1)this.addControl(this.gl_quad.uniforms[this.gl_quad.controls[d]]);this.addControl({control:"range",group:"Camera",label:"Speed",min:0.01,max:1,step:0.01,decimal_places:2,"default":this.stepSpeed||0.5,name:"stepSpeed"});this.objRotationX=
$("#"+this.objRotationUniform+"_0").data("superslider");this.objRotationY=$("#"+this.objRotationUniform+"_1").data("superslider")},addControl:function(d){var f,m,s,w,I;w=false;if(d.label){s=$("<p>").attr("id","control_"+d.name);I=d.group||"Constants";w=false;if(d.group_label){f=$("<h3>").text(d.group_label);s.append(f)}if(d.control==="color"){this.createControl(s,d);w=true}else if(typeof d["default"]==="object"){f=0;for(m=d["default"].length;f<m;f+=1){w=d["default"]&&d["default"][f];if(typeof this.gl_quad.parameters[d.name]!==
"undefined")w=this.gl_quad.parameters[d.name][f];w={name:d.name+"_"+f,label:typeof d.label==="object"?d.label[f]:d.label,min:d.min,max:d.max,step:d.step,"default":w,control:d.control,group_label:f===0&&d.group_label};this.createControl(s,w);w=true}}else{d["default"]=typeof this.gl_quad.parameters[d.name]!=="undefined"?this.gl_quad.parameters[d.name]:d["default"];d.control=d.control||d.type;this.createControl(s,d);w=true}if(w&&$("#group_"+I).length===0){d=$('<div id="group_'+I+'" class="group">');
this.group_tabs.append($("<a>").addClass("tab").text(I));this.ui.append(d)}$("#group_"+I).append(s)}},createControl:function(d,f){var m=f.name.split("_"),s=this,w,I,G;f.decimal_places=4;f.control=f.control||"range";if(f.control.match(/vec|float|range|int|rotation*/)){w=new SuperSlider(f.name,f);d.append(w)}else if(f.control==="camera"){this.cameraUniform=m[0];f.hide_slider=true;f.min=-100;f.max=100;f.step=0.0010;f.decimal_places=6;w=new SuperSlider(f.name,f);d.append(w)}else if(f.control==="input"){f.hide_slider=
true;w=new SuperSlider(f.name,f);d.append(w)}else if(f.control==="color"){if($("#"+f.name).length===0){w=typeof this.gl_quad.parameters[f.name]!=="undefined"?new Color([this.gl_quad.parameters[f.name][0]*255,this.gl_quad.parameters[f.name][1]*255,this.gl_quad.parameters[f.name][2]*255]):new Color([f["default"][0]*255,f["default"][1]*255,f["default"][2]*255]);w=$("<label>").addClass("color_selection").text(f.label).prepend($("<span>").attr("id",f.name).addClass("color_swatch").css("backgroundColor",
"#"+w.hex()).click(function(K){s.setColor(K)}));d.append(w)}}else if(f.control==="select"){d.append($("<label>").attr("for",f.name).text(f.label));w=$("<select>").attr("id",f.name);for(I=0;I<f.options.length;I+=1){G=$("<option>").attr("value",f.options[I]).text(f.options[I]);w.append(G)}w.val(f["default"]);d.append(w)}else if(f.control==="bool"){w=$("<input>").attr({type:"checkbox",id:f.name,value:f.value||f["default"]});d.append($("<label>").attr("for",f.name).text(f.label).prepend(w));this.gl_quad.parameters[f.name]!==
false&&typeof this.gl_quad.parameters[f.name]!=="undefined"&&w.attr("checked",true)}w&&w.bind("change",function(K){s.controlListener(K,m,f)})},controlListener:function(d,f,m){if(m.constant){this.gl_quad.parameters[f[0]]=m.control==="bool"?d.target.checked?d.target.value:false:d.target.val||d.target.value;$("#compile").addClass("enabled")}else{if(f.length>1)if(m.control==="rotation"){m=[];for(d=0;d<3;d+=1)m[d]=$("#"+f[0]+"_"+d).data("slider").value();this.gl_quad.parameters["_"+f[0]]=m;this.gl_quad.parameters[f[0]]=
this.rotationMatrix(m)}else this.gl_quad.parameters[f[0]][parseFloat(f[1])]=d.target.val;else{this.gl_quad.parameters[f[0]]=m.control==="bool"?d.target.checked?true:false:d.target.val;if(f[0]==="stepSpeed"){d=Math.pow(d.target.val,2)/100;this.camera.step(d)}}this.changed=true}f[0]===this.cameraUniform&&this.camera.position(this.gl_quad.parameters[this.cameraUniform])},setColor:function(d){var f=this,m=$(d.target);d=m.css("backgroundColor").replace(/[^0-9,]/g,"").split(",");var s=this.options.color_picker.data("color_picker"),
w,I;this.options.color_picker.unbind("change").bind("change",function(G,K){if(K){m.css("backgroundColor",K.css());f.gl_quad.parameters[m.attr("id")]=K.normalized();window.clearTimeout(w);w=window.setTimeout(function(){f.changed=true},100)}});s.setColor(d);$("#color_picker").unbind("mouseover mouseout").bind("mouseover",function(){f.options.color_picker.addClass("show_picker");window.clearTimeout(I)}).bind("mouseout",function(){window.clearTimeout(I);I=window.setTimeout(function(){$("#color_picker").hide()},
100)}).toggle()},interacting:function(d){if(d){this.editing=false;this.keyEvents();this.main()}else{this.editing=true;$(document).unbind("keydown keyup");window.clearInterval(this.key_listener_id)}},keyEvents:function(){var d=this;this.keystates={};$(document).bind("keydown",function(f){d.moveMultiplier=1;if(f.shiftKey){d.moveMultiplier=10;d.keystates.shiftKey=true}if(f.altKey){d.moveMultiplier=0.1;d.keystates.altKey=true}if(f.ctrlKey)d.keystates.ctrlKey=true;if(f.metaKey)d.keystates.metaKey=true;
if(d.keymove)d.keystates[f.which]=true}).bind("keyup",function(f){d.keystates[f.which]=false;d.moveMultiplier=1;if(f.shiftKey)d.moveMultiplier=10;else d.keystates.shiftKey=false;if(f.altKey)d.moveMultiplier=0.1;else d.keystates.altKey=false;if(!f.ctrlKey)d.keystates.ctrlKey=false;if(!f.metaKey)d.keystates.metaKey=false;d.keymove&&d.updateUI()})},keyListener:function(){var d;Date.now();var f=this.moveMultiplier;this.tick+=1;if(this.options.mode==="2d")f*=5*this.camera.z;if(this.keystates[38]||this.keystates[87]||
this.impulse.forward){this.changed=true;this.camera.forward(this.camera.step()*f)}else if(this.keystates[40]||this.keystates[83]||this.impulse.backward){this.changed=true;this.camera.back(this.camera.step()*f)}if(this.keystates[81]){this.changed=true;this.camera.down(this.camera.step()*f)}else if(this.keystates[69]){this.changed=true;this.camera.up(this.camera.step()*f)}if(this.keystates[90]){this.keystates[90]=false;this.changed=true;d=$("#stepSpeed").data("superslider").value()*f/2;$("#stepSpeed").data("superslider").value(d)}else if(this.keystates[88]){this.keystates[88]=
false;this.changed=true;d=$("#stepSpeed").data("superslider").value()*f*2;$("#stepSpeed").data("superslider").value(d)}if(this.keystates[37]||this.keystates[65]){this.changed=true;this.camera.strafeLeft(this.camera.step()*f)}else if(this.keystates[39]||this.keystates[68]){this.changed=true;this.camera.strafeRight(this.camera.step()*f)}if(this.changed||this.mode==="cont"){this.camera&&this.updateCamera();this.gl_quad.draw();Date.now();this.updated=this.changed=false;this.impulse={};if(this.framerate&&
this.tick>30&&this.mode==="cont"){d=this.fps.display();this.framerate.text("FPS: "+d+" ("+Math.round(1/d*1E4)/10+"ms)");this.tick=0}}},autoDraw:function(){this.gl_quad.draw()},mouseDown:function(d){this.ox=d.clientX;this.oy=d.clientY;this.gl_quad.canvas[0].addEventListener("mousemove",this.mouseMoveListener,false);document.addEventListener("mouseup",this.mouseUpListener,false)},mouseMove:function(d){var f=d.clientY-this.oy;this.u=(d.clientX-this.ox)*0.5;this.v=f*0.5;if(this.options.mode==="3d")if(this.keystates.metaKey){f=
this.objRotationY.value()+this.u;if(f>360)f=-360+f%360;else if(f<-360)f=360+f%360;this.objRotationY.value(f);f=this.objRotationX.value()+this.v;if(f>360)f=-360+f%360;else if(f<-360)f=360+f%360;this.objRotationX.value(f)}else{this.gl_quad.parameters.cameraYaw+=this.u;if(this.gl_quad.parameters.cameraYaw>180)this.gl_quad.parameters.cameraYaw=-180+this.gl_quad.parameters.cameraYaw%180;else if(this.gl_quad.parameters.cameraYaw<-180)this.gl_quad.parameters.cameraYaw=180+this.gl_quad.parameters.cameraYaw%
180;this.gl_quad.parameters.cameraPitch-=this.v}else if(this.options.mode==="2d"){f=4*this.camera.z*this.moveMultiplier/this.gl_quad.canvas.width();this.camera.x-=this.u*f;this.camera.y+=this.v*f}this.ox=d.clientX;this.oy=d.clientY;this.changed=true},mouseUp:function(){this.gl_quad.canvas[0].removeEventListener("mousemove",this.mouseMoveListener,false);document.removeEventListener("mouseup",this.mouseUpListener,false);this.updateUI()},updateCamera:function(){this.camera.pitch(this.gl_quad.parameters.cameraPitch||
0);this.camera.yaw(this.gl_quad.parameters.cameraYaw||0);this.gl_quad.parameters[this.cameraUniform][0]=this.camera.x;this.gl_quad.parameters[this.cameraUniform][1]=this.camera.y;this.gl_quad.parameters[this.cameraUniform][2]=this.camera.z},updateUI:function(){if(this.camera){$("#"+this.cameraUniform+"_0").data("superslider").value(this.camera.x);$("#"+this.cameraUniform+"_1").data("superslider").value(this.camera.y);$("#"+this.cameraUniform+"_2").data("superslider").value(this.camera.z);$("#cameraPitch").data("superslider")&&
$("#cameraPitch").data("superslider").value(this.gl_quad.parameters.cameraPitch);$("#cameraPitch").data("superslider")&&$("#cameraYaw").data("superslider").value(this.gl_quad.parameters.cameraYaw)}this.updated=true},rotationMatrix:function(d){var f=Math.PI/180,m={x:Math.cos(d[0]*f),y:Math.cos(d[1]*f),z:Math.cos(d[2]*f)};d={x:Math.sin(d[0]*f),y:Math.sin(d[1]*f),z:Math.sin(d[2]*f)};return[m.y*m.z,-m.y*d.z,d.y,m.z*d.x*d.y+m.x*d.z,m.x*m.z-d.x*d.y*d.z,-m.y*d.x,-m.x*m.z*d.y+d.x*d.z,m.z*d.x+m.x*d.y*d.z,
m.x*m.y]},imageData:function(){return this.gl_quad.getPixels()},main:function(){var d=this;window.clearInterval(this.key_listener_id);this.key_listener_id=window.setInterval(function(){d.fps&&d.fps.capture();d.keyListener()},1E3/this.options.fps)}};function IndexedLocalStorage(d,f){this.index_key=d||"local_index";this.prefix_key=f||"store_";return typeof localStorage==="undefined"?false:this}
IndexedLocalStorage.prototype={index:function(){return this.readLocalStorage(this.index_key)||[]},find:function(d){return this.readLocalStorage(d)},find_by_title:function(d){var f,m,s,w=this.index();f=0;for(m=w.length;f<m;f+=1)if(w[f].title===d){s=w[f].id;break}return s},save:function(d,f){var m=Date.now(),s=d||this.prefix_key+m;this.updateIndex({id:s,title:f.title,updated_at:m});return this.writeLocalStorage(s,f)},updateIndex:function(d){var f=this.index(),m,s,w;s=0;for(w=f.length;s<w;s+=1)if(f[s].id===
d.id){f[s]=d;m=true;break}m||f.push(d);this.writeLocalStorage(this.index_key,f)},destroy:function(d){var f=this.index(),m,s;try{localStorage.removeItem(d);m=0;for(s=f.length;m<s;m+=1)if(f[m].id===d){f.splice(m,1);this.writeLocalStorage(this.index_key,f);break}}catch(w){console.error("localStorage removeItem error",w)}},readLocalStorage:function(d){var f;try{f=JSON.parse(localStorage.getItem(d))}catch(m){console.error("Read local storage error",m)}return f},writeLocalStorage:function(d,f){var m=false;
try{localStorage.setItem(d,JSON.stringify(f));m=true}catch(s){s===QUOTA_EXCEEDED_ERR?console.error("Local storage quota exceeded!"):console.error("Write local storage error",s)}return m}};
var fractal_library=function(d){function f(G,K){var T=0,ea={};$.each(G,function(ba,ka){$.ajax({url:"shaders/"+ka.path,dataType:"text",headers:{"Access-Control-Allow-Origin":"*"},success:function(qa){T+=1;ea[ka.type]=qa;T===G.length&&m(ea,K)}})})}function m(G,K){var T;$.each(K,function(ea,ba){w.find_by_title(ba.title);if(!w.find_by_title(ba.title)){console.log("Loaded",ba.title);try{params=JSON.parse(ba.params)}catch(ka){console.log("error adding preset",ba.title)}w.save(null,{title:ba.title,vertex:G.vertex,
fragment:G.fragment,params:params});window.clearTimeout(T);T=window.setTimeout(s,500)}})}function s(){var G=$("table tbody"),K;K=_.sortBy(w.index(),function(T){return T.title.toLowerCase()});if($("td",G).length>1||K.length>0)G.html("");$.each(K,function(T,ea){var ba=new Date(ea.updated_at),ka=w.find(ea.id);ba=$("<tr>").addClass(ea.title===I?"updated":"").append($("<td>").addClass("shader_title").append($("<a>").data("id",ea.id).attr("title","cmd + click to only load parameters").text(ea.title)).append($("<span>").addClass("more").text("[+]")).append($("<textarea>").addClass("params").text(JSON.stringify(ka.params).replace(/,"/g,
', "')))).append($("<td>").addClass("shader_date").text(ba.toDateString()+", "+ba.toLocaleTimeString())).append($("<td>").data("id",ea.id).attr("title","Click to delete").addClass("shader_destroy").html("&#x2716;"));G.append(ba)});window.setTimeout(function(){$("tr",G).removeClass("updated")},1)}var w=new IndexedLocalStorage("shader_index","shader_"),I="";f([{path:"3d_fractals.vs",type:"vertex"},{path:"3d_fractals.fs",type:"fragment"}],[{title:"Menger Cube",params:'{"scale":1, "power":8, "surfaceSmoothness":0.6, "stepMultiplier":1, "boundingRadius":5, "offset":[0,0,0], "shift":[0,0,0], "cameraRoll":0, "cameraPitch":-31.5, "cameraYaw":-42.5, "cameraFocalLength":0.9, "cameraPosition":[1.910704,1.380376,-2.196909], "colorIterations":4, "color1":[1,1,1], "color1Intensity":0.57, "color2":[0.6666666666666666,0.792156862745098,0.8117647058823529], "color2Intensity":1.16, "color3":[1,0.53,0], "color3Intensity":0.57, "transparent":false, "gamma":1, "light":[-16,100,-60], "ambientColor":[0.5,0.3], "background1Color":[0,0.46,0.8], "background2Color":[0,0,0], "innerGlowColor":[0,0.6,0.8], "innerGlowIntensity":0.12, "outerGlowColor":[1,1,1], "outerGlowIntensity":0, "fog":0, "fogFalloff":0, "specularity":0.8, "specularExponent":4, "size":[400,257], "aoIntensity":0.09, "aoSpread":4.6, "objectRotation":[1,0,0,0,1,0,0,0,1], "fractalRotation1":[1,0,0,0,1,0,0,0,1], "fractalRotation2":[1,0,0,0,1,0,0,0,1], "depthMap":false, "sphereHoles":4, "sphereScale":1, "boxScale":0.5, "boxFold":1, "radiolariaFactor":0, "radiolaria":0, "dE":"MengerSponge", "maxIterations":8, "stepLimit":60, "aoIterations":4, "antialiasing":false, "_objectRotation":[0,0,0], "_fractalRotation1":[0,0,0], "_fractalRotation2":[0,0,0], "stepSpeed":0.5}'},
{title:"Sphere Sponge",params:'{"scale":4, "power":8, "surfaceSmoothness":0.6, "stepMultiplier":1, "boundingRadius":40, "offset":[0,0,0], "shift":[0,0,0], "cameraRoll":0, "cameraPitch":-16, "cameraYaw":43, "cameraFocalLength":0.9, "cameraPosition":[-0.788623,-0.682783,0.171216], "colorIterations":2, "color1":[1,1,1], "color1Intensity":0.48, "color2":[0,0.53,0.8], "color2Intensity":0.44, "color3":[1,0.53,0], "color3Intensity":0.36, "transparent":false, "gamma":1, "light":[-16,100,-60], "ambientColor":[0.31,0.42], "background1Color":[0.9882352941176471,0.8117647058823529,0.44313725490196076], "background2Color":[0,0,0], "innerGlowColor":[0.8588235294117647,0.803921568627451,0.7725490196078432], "innerGlowIntensity":0.14, "outerGlowColor":[1,1,1], "outerGlowIntensity":0, "fog":0.17, "fogFalloff":0, "specularity":0.8, "specularExponent":4, "size":[400,257], "aoIntensity":0.15, "aoSpread":4.8, "objectRotation":[1,0,0,0,1,0,0,0,1], "fractalRotation1":[1,0,0,0,1,0,0,0,1], "fractalRotation2":[1,0,0,0,1,0,0,0,1], "depthMap":false, "sphereHoles":4, "sphereScale":2.05, "boxScale":0.5, "boxFold":1, "radiolariaFactor":0, "radiolaria":0, "dE":"SphereSponge", "maxIterations":7, "stepLimit":60, "aoIterations":4, "antialiasing":false, "_objectRotation":[0,0,0], "_fractalRotation1":[0,0,0], "_fractalRotation2":[0,0,0], "stepSpeed":0.5}'},
{title:"Mandelbox",params:'{"scale":2, "power":8, "surfaceDetail":0.4, "surfaceSmoothness":1, "boundingRadius":114.02, "offset":[0,0,0], "shift":[0,0,0], "cameraRoll":0, "cameraPitch":-35, "cameraYaw":-37.5, "cameraFocalLength":0.9, "cameraPosition":[8.514214,8.706627,-11.932482], "colorIterations":3, "color1":[0.0315625,0.0315625,0.0315625], "color1Intensity":0.96, "color2":[0.9803921568627451,0.7843137254901961,0.0196078431372549], "color2Intensity":1.26, "color3":[1,1,1], "color3Intensity":0.51, "transparent":false, "gamma":0.99, "light":[48,191,-198], "ambientColor":[0.41,0], "background1Color":[0.7450980392156863,0.9450980392156862,0.9372549019607843], "background2Color":[0,0,0], "innerGlowColor":[0,0.6,0.8], "innerGlowIntensity":0.13, "outerGlowColor":[1,1,1], "outerGlowIntensity":0, "fog":0, "fogFalloff":0, "specularity":0.86, "specularExponent":7.5, "size":[1020,822], "aoIntensity":0.15, "aoSpread":8.8, "objectRotation":[1,0,0,0,1,0,0,0,1], "fractalRotation1":[1,0,0,0,1,0,0,0,1], "fractalRotation2":[1,0,0,0,1,0,0,0,1], "depthMap":false, "sphereHoles":4, "sphereScale":1, "boxScale":0.5, "boxFold":1, "juliaFactor":0, "radiolariaFactor":0, "radiolaria":0, "dE":"Mandelbox", "maxIterations":12, "stepLimit":105, "shadowSteps":10, "aoIterations":3, "antialiasing":false, "_objectRotation":[0,0,0], "_fractalRotation1":[0,0,0], "_fractalRotation2":[0,0,0], "stepSpeed":0.5}'},
{title:"Mandelbulb",params:'{"scale":1, "power":8, "surfaceSmoothness":0.59, "stepMultiplier":1, "boundingRadius":5.09, "offset":[0,0,0], "shift":[0,0,0], "cameraRoll":0, "cameraPitch":-22, "cameraYaw":1, "cameraFocalLength":0.9, "cameraPosition":[-0.113937,0.913814,-2.31178], "colorIterations":6, "color1":[1,1,1], "color1Intensity":0.66, "color2":[0.6666666666666666,0.792156862745098,0.8117647058823529], "color2Intensity":0.3, "color3":[1,0.53,0], "color3Intensity":0.6, "transparent":false, "gamma":1, "light":[174,210,-66], "ambientColor":[0.44,0.5], "background1Color":[0.8509803921568627,0.803921568627451,0.611764705882353], "background2Color":[0.09411764705882353,0.15294117647058825,0.1568627450980392], "innerGlowColor":[0,0.6,0.8], "innerGlowIntensity":0.12, "outerGlowColor":[1,1,1], "outerGlowIntensity":0, "fog":0.06, "fogFalloff":0, "specularity":0.81, "specularExponent":4.5, "size":[860,554], "aoIntensity":0.1, "aoSpread":4.6, "objectRotation":[1,0,0,0,-0.19936793441719705,-0.9799247046208296,0,0.9799247046208296,-0.19936793441719705], "fractalRotation1":[1,0,0,0,1,0,0,0,1], "fractalRotation2":[1,0,0,0,1,0,0,0,1], "depthMap":false, "sphereHoles":4, "sphereScale":1, "boxScale":0.5, "boxFold":1, "radiolariaFactor":0, "radiolaria":0, "dE":"Mandelbulb", "maxIterations":8, "stepLimit":60, "aoIterations":4, "antialiasing":false, "_objectRotation":[101.5,0,0], "_fractalRotation1":[0,0,0], "_fractalRotation2":[0,0,0], "stepSpeed":0.5}'},
{title:"Sierpinski octahedron",params:'{"scale":2, "power":8, "surfaceSmoothness":0.6, "stepMultiplier":1, "boundingRadius":5, "offset":[1,0,0], "shift":[0,0,0], "cameraRoll":0, "cameraPitch":-10, "cameraYaw":-11.5, "cameraFocalLength":0.9, "cameraPosition":[0.452288,0.41647,-1.896852], "colorIterations":4, "color1":[1,1,1], "color1Intensity":0.45, "color2":[0,0.53,0.8], "color2Intensity":0.3, "color3":[1,0.53,0], "color3Intensity":0, "transparent":false, "gamma":1, "light":[-16,100,-60], "ambientColor":[0.5,0.3], "background1Color":[0,0.46,0.8], "background2Color":[0,0,0], "innerGlowColor":[0,0.6,0.8], "innerGlowIntensity":0.1, "outerGlowColor":[1,1,1], "outerGlowIntensity":0, "fog":0, "fogFalloff":0, "specularity":0.8, "specularExponent":4, "size":[400,259], "aoIntensity":0.11, "aoSpread":4.8, "objectRotation":[1,0,0,0,1,0,0,0,1], "fractalRotation1":[1,0,0,0,1,0,0,0,1], "fractalRotation2":[1,0,0,0,1,0,0,0,1], "depthMap":false, "sphereHoles":4, "sphereScale":1, "boxScale":0.5, "boxFold":1, "radiolariaFactor":0, "radiolaria":0, "dE":"OctahedralIFS", "maxIterations":8, "stepLimit":60, "aoIterations":4, "antialiasing":false, "_objectRotation":[0,0,0], "_fractalRotation1":[0,0,0], "_fractalRotation2":[0,0,0], "stepSpeed":0.5}'},
{title:"Sierpinski dodecahedron",params:'{"scale":2.7, "power":8, "surfaceDetail":1.22, "surfaceSmoothness":0.53, "boundingRadius":6.09, "offset":[1,1,1], "shift":[0,0,0], "cameraRoll":0, "cameraPitch":-6.5, "cameraYaw":-17.5, "cameraFocalLength":0.9, "cameraPosition":[1.093726,0.628911,-3.908039], "colorIterations":4, "color1":[1,1,1], "color1Intensity":0.45, "color2":[0,0.53,0.8], "color2Intensity":0.3, "color3":[1,0.53,0], "color3Intensity":0, "transparent":false, "gamma":1, "light":[-66,162,-30], "ambientColor":[0.5,0.3], "background1Color":[0,0.46,0.8], "background2Color":[0,0,0], "innerGlowColor":[0,0.6,0.8], "innerGlowIntensity":0.1, "outerGlowColor":[1,1,1], "outerGlowIntensity":0.02, "fog":0.01, "fogFalloff":0, "specularity":0.8, "specularExponent":4, "size":[1020,822], "aoIntensity":0.16, "aoSpread":10.6, "objectRotation":[0.30901699437494745,0,0.9510565162951535,0,1,0,-0.9510565162951535,0,0.30901699437494745], "fractalRotation1":[1,0,0,0,1,0,0,0,1], "fractalRotation2":[1,0,0,0,1,0,0,0,1], "depthMap":false, "sphereHoles":4, "sphereScale":1, "boxScale":0.5, "boxFold":1, "juliaFactor":0, "radiolariaFactor":0, "radiolaria":0, "dE":"DodecahedronIFS", "maxIterations":8, "stepLimit":60, "shadowSteps":10, "aoIterations":4, "antialiasing":false, "_objectRotation":[0,72,0], "_fractalRotation1":[0,0,0], "_fractalRotation2":[0,0,0], "stepSpeed":0.5}'},
{title:"Sierpinski icosahedron",params:'{"scale":2, "power":8, "surfaceDetail":1.22, "surfaceSmoothness":0.53, "boundingRadius":6.09, "offset":[0.61,0,0.99], "shift":[0,0,0], "cameraRoll":0, "cameraPitch":-15.5, "cameraYaw":-16.5, "cameraFocalLength":0.9, "cameraPosition":[0.678432,0.696559,-2.590894], "colorIterations":4, "color1":[1,1,1], "color1Intensity":0.45, "color2":[0,0.53,0.8], "color2Intensity":0.3, "color3":[1,0.53,0], "color3Intensity":0, "transparent":false, "gamma":1, "light":[-66,162,-30], "ambientColor":[0.5,0.3], "background1Color":[0,0.46,0.8], "background2Color":[0,0,0], "innerGlowColor":[0,0.6,0.8], "innerGlowIntensity":0.1, "outerGlowColor":[1,1,1], "outerGlowIntensity":0.02, "fog":0.01, "fogFalloff":0, "specularity":0.8, "specularExponent":4, "size":[1020,822], "aoIntensity":0.16, "aoSpread":10.6, "objectRotation":[0.26723837607825696,0,0.963630453208623,0.48907942272058585,0.8616291604415258,-0.13563372791503553,-0.8302920983740328,0.5075383629607041,0.23026037761806528], "fractalRotation1":[1,0,0,0,1,0,0,0,1], "fractalRotation2":[1,0,0,0,1,0,0,0,1], "depthMap":false, "sphereHoles":4, "sphereScale":1, "boxScale":0.5, "boxFold":1, "juliaFactor":0, "radiolariaFactor":0, "radiolaria":0, "dE":"DodecahedronIFS", "maxIterations":8, "stepLimit":60, "shadowSteps":10, "aoIterations":4, "antialiasing":false, "_objectRotation":[30.5,74.5,0], "_fractalRotation1":[0,0,0], "_fractalRotation2":[0,0,0], "stepSpeed":0.5}'}]);
f([{path:"2d_fractals.vs",type:"vertex"},{path:"2d_fractals.fs",type:"fragment"}],[{title:"Mandelbrot steps",params:'{"scale":2, "power":2, "bailout":11.1, "minIterations":1, "juliaMode":false, "offset":[0.36,0.06], "colorMode":1, "bailoutStyle":0, "colorScale":1.4, "colorCycle":8.6, "colorCycleOffset":0, "colorCycleMirror":true, "hsv":true, "iterationColorBlend":1, "colorIterations":4, "color1":[0.8588235294117647,0.21568627450980393,0.0196078431372549], "color2":[0.8941176470588236,0.9607843137254902,0.8470588235294118], "color3":[0.01578125,0.01578125,0.01578125], "gamma":1.2, "rotation":0, "cameraPosition":[0.396367,-0.133508,0.00219], "size":[1020,822], "dE":"Mandelbrot", "maxIterations":164, "antialiasing":false, "stepSpeed":0.5}'},
{title:"Julia set",params:'{"scale":2, "power":3, "bailout":9.1, "minIterations":1, "juliaMode":true, "offset":[-0.121,0.799,0.59], "colorMode":0, "bailoutStyle":0, "colorScale":10, "colorCycle":2, "colorCycleOffset":0, "colorCycleMirror":true, "hsv":true, "iterationColorBlend":1.49, "colorIterations":4, "color1":[1,1,1], "color2":[0.01568627450980392,0.4745098039215686,0.7254901960784313], "color3":[0.00784313725490196,0.00392156862745098,0], "gamma":1, "rotation":0, "cameraPosition":[-0.009946,0.201874,-2.275821], "size":[1020,822], "dE":"DodecahedronIFS", "maxIterations":188, "antialiasing":false, "stepSpeed":0.5}'},
{title:"Checker",params:'{"scale":2, "power":2, "bailout":4, "minIterations":1, "juliaMode":false, "offset":[0.36,0.06], "colorMode":3, "bailoutStyle":0, "colorScale":2.8, "colorCycle":1, "colorCycleOffset":0, "colorCycleMirror":false, "hsv":false, "iterationColorBlend":2.47, "colorIterations":4, "color1":[1,1,1], "color2":[0,0.53,0.8], "color3":[0,0,0], "gamma":1, "rotation":-90, "cameraPosition":[-0.101591,0.648791,3.39984], "size":[400,322], "dE":"Mandelbrot", "maxIterations":80, "antialiasing":false, "stepSpeed":0.5}'},
{title:"Contour valley",params:'{"scale":2, "power":2, "bailout":11.1, "minIterations":1, "juliaMode":false, "offset":[0.36,0.06], "colorMode":4, "bailoutStyle":3, "colorScale":0, "colorCycle":8.6, "colorCycleOffset":0, "colorCycleMirror":false, "hsv":false, "iterationColorBlend":1.62, "colorIterations":4, "color1":[0.8588235294117647,0.21568627450980393,0.0196078431372549], "color2":[0.8941176470588236,0.9607843137254902,0.8470588235294118], "color3":[0.00784313725490196,0.00392156862745098,0.00392156862745098], "gamma":1.03, "rotation":0, "cameraPosition":[-0.722524,0.344711,0.000982], "size":[1020,822], "dE":"Mandelbrot", "maxIterations":132, "antialiasing":false, "stepSpeed":0.5}'}]);
$("#library_button").click(function(G){G.preventDefault();$("#mode").val("auto");if($("#library:visible").length>0){$("#library_button").text("Fractal library");$("#library").hide()}else{$("#library_button").text("Close");$("#library").show()}});$(".save").click(function(G){G.preventDefault();G=prompt("Enter a title for the fractal:",I);var K=w.find_by_title(G);if(G&&w.save(K,d.params(G))){I=G;s()}});$("#paste_params").click(function(G){G.preventDefault();if($("#paste_block:visible").length>0)$("#paste_block").hide();
else{$("#paste_block").show().focus();$("#paste_input").val("").focus();$("#library_list").attr("scrollTop",0)}});$("#cancel_paste").click(function(G){G.preventDefault();$("#paste_block").hide();$("#paste_input").val("")});$("#apply_paste").click(function(G){G.preventDefault();var K;try{K=JSON.parse($("#paste_input").val());d.load({title:I,vertex:$("#vertex_code").val(),fragment:$("#fragment_code").val(),params:K});$("#paste_block").hide();$("#paste_input").val("");$("#library_button").text("Fractal library");
$("#library").hide()}catch(T){alert(T)}});$(".shader_title a").live("click",function(G){G.preventDefault();var K=$(G.target).data("id"),T=w.find(K);if(T){I=T.title;if(G.metaKey){console.log("Meta key");T.fragment=$("#fragment_code").val();T.vertex=$("#vertex_code").val()}d.load(T);$("#library").hide();$("#image_tab").trigger("click");$("#library_button").text("Fractal library")}else console.log("Could not find",K)});$(".more").live("click",function(G){var K=$(G.target);G.preventDefault();if(K.text()===
"[+]"){K.text("[-]");K.next().show().focus().get(0).select()}else{K.text("[+]");K.next().hide()}});$(".shader_destroy").live("click",function(G){G.preventDefault();if(confirm("Are you sure you want to delete this?")){console.log("delete",$(G.target).data("id"));w.destroy($(G.target).data("id"))}s()});s()};function FPS(d){this.lastUpdated=0;this.samples=[];this.fps=0;this.average_over=d||10}
FPS.prototype={capture:function(){var d=Date.now();this.samples.push(d-this.lastUpdated);this.samples.length>this.average_over&&this.samples.shift();this.lastUpdated=d},display:function(){var d=0,f,m=this.samples.length;if(m<2)return 0;for(f=0;f<m;f+=1)d+=this.samples[f];return Math.round(1E4/(d/m))/10}};
var application=function(){var d=new ColorPicker({vertex_path:"shaders/color_picker.vs",fragment_path:"shaders/color_picker.fs",width:128,height:128}),f=new FractalLab($("#params"),{canvas:$("#canvas"),framerate:$("#average_fps"),color_picker:d,ready_callback:function(){$("#library").trigger("load_presets")}});$("#color_picker").append(d);$("#type_buttons a").click(function(){$("#type_buttons a").removeClass("active");$(this).addClass("active");f.load_by_path("shaders/"+this.id+"_fractals.vs?"+Date.now(),
"shaders/"+this.id+"_fractals.fs?"+Date.now())});$("#3d").trigger("click");document.documentElement.webkitRequestFullScreen||document.documentElement.requestFullScreen?$("#fullscreen").click(function(){if(document.documentElement.webkitRequestFullScreen)document.documentElement.webkitRequestFullScreen();else document.documentElement.requestFullScreen&&document.documentElement.requestFullScreen()}):$("#fullscreen").hide();$("#help_button").click(function(){$("#help").toggle()});$("#help").click(function(m){$(m.target).is("a")||
$("#help").hide()});$("#save_image").click(function(){var m=$("#canvas").get(0).toDataURL("image/png"),s=new Image;s.src=m;$("#render_panel p").after(s);$("#render_tab").trigger("click")});$("#save_tiled_image").click(function(){var m=$("#canvas").get(0).toDataURL("image/png"),s=new Image,w=$("<canvas>").attr({width:1200,height:1200}).get(0),I=w.getContext("2d");s.onload=function(){I.drawImage(s,400,400);window.open(w.toDataURL("image/png"))};s.src=m});$("#vertex_code, #fragment_code").change(function(){$("#compile").addClass("enabled")}).bind("keydown",
function(m){var s=$(m.target),w,I=s[0].selectionStart;w=s[0].selectionEnd;if(m.which===9){w=s.val().substring(0,I)+"    "+s.val().substring(w);s.val(w);s[0].setSelectionRange(I+4,I+4);s.focus();m.preventDefault()}$("#compile").addClass("enabled")}).bind("scroll",function(m){$(m.target).data("scrollTop",m.target.scrollTop)});$("#compile").click(function(){$(this).hasClass("enabled")&&f.recompile()&&$("#menu a:first").trigger("click");return false});$("#menu .image_tab, #menu .code_tab").click(function(m){m=
$(m.target);var s=$("#"+m.data("for")),w=$("textarea",s);if(!m.hasClass("active")){$("#menu a").removeClass("active");m.addClass("active");$(".panel").hide();s.show();w.length>0&&w.attr("scrollTop",w.data("scrollTop"))}f.interacting(m.data("for")==="stage");return false});fractal_library(f)};
